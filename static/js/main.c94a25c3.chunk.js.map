{"version":3,"sources":["images/Apocalypse/Apocalypse.png","images/Assault/Assault.png","images/Assault/Rapid Deployment/NO Rapid Deployment.PNG","images/Elite/Elite.png","images/Elite/Rapid Deployment/NO Rapid Deployment.PNG","images/Environment/Environment.png","images/Government/Government.png","images/Tech/Tech.png","images/War/War.png","images/blank.png","images sync /^/.*$","images/Apocalypse/Field Status/Frontline.PNG","images/Apocalypse/Field Status/Range.PNG","images/Apocalypse/Rank/1-Common.PNG","images/Apocalypse/Rank/2-Uncommon.PNG","images/Apocalypse/Rank/3-Rare.PNG","images/Apocalypse/Rank/4-Distinguished.PNG","images/Apocalypse/Rank/5-Legendary.PNG","images/Apocalypse/Transport Fees/0 Transport.PNG","images/Apocalypse/Transport Fees/1 Transport.PNG","images/Apocalypse/Transport Fees/2 Transport.PNG","images/Apocalypse/Transport Fees/3 Transport.PNG","images/Apocalypse/Transport Fees/4 Transport.PNG","images/Apocalypse/Transport Fees/5 Transport.PNG","images/Apocalypse/Transport Fees/No Transport.PNG","images/Assault/Card Types/Air.PNG","images/Assault/Card Types/Defense.PNG","images/Assault/Card Types/Land.PNG","images/Assault/Card Types/Personnel.PNG","images/Assault/Card Types/Sea.PNG","images/Assault/Card Types/Specialty.PNG","images/Assault/Card Types/Structure.PNG","images/Assault/Field Status/Frontline.PNG","images/Assault/Field Status/Range.PNG","images/Assault/Rank/1-Common.PNG","images/Assault/Rank/2-Uncommon.PNG","images/Assault/Rank/3-Rare.PNG","images/Assault/Rank/4-Distinguished.PNG","images/Assault/Rank/5-Legendary.PNG","images/Assault/Strength Types/S-Air.PNG","images/Assault/Strength Types/S-Apocalypse.PNG","images/Assault/Strength Types/S-Defense.PNG","images/Assault/Strength Types/S-Elite.PNG","images/Assault/Strength Types/S-Land.PNG","images/Assault/Strength Types/S-Personnel.PNG","images/Assault/Strength Types/S-Sea.PNG","images/Assault/Strength Types/S-Specialty.PNG","images/Assault/Strength Types/S-Structure.PNG","images/Assault/Transport Fees/0 Transport.PNG","images/Assault/Transport Fees/1 Transport.PNG","images/Assault/Transport Fees/2 Transport.PNG","images/Assault/Transport Fees/3 Transport.PNG","images/Assault/Transport Fees/4 Transport.PNG","images/Assault/Transport Fees/5 Transport.PNG","images/Assault/Transport Fees/No Transport.PNG","images/Assault/Weakness Types/W-Air.PNG","images/Assault/Weakness Types/W-Apocalypse.PNG","images/Assault/Weakness Types/W-Defense.PNG","images/Assault/Weakness Types/W-Elite.PNG","images/Assault/Weakness Types/W-Land.PNG","images/Assault/Weakness Types/W-Personnel.PNG","images/Assault/Weakness Types/W-Sea.PNG","images/Assault/Weakness Types/W-Specialty.PNG","images/Assault/Weakness Types/W-Structure.PNG","images/Elite/Field Status/Frontline.PNG","images/Elite/Field Status/Range.PNG","images/Elite/Rank/1-Common.PNG","images/Elite/Rank/2-Uncommon.PNG","images/Elite/Rank/3-Rare.PNG","images/Elite/Rank/4-Distinguished.PNG","images/Elite/Rank/5-Legendary.PNG","images/Elite/Transport Fees/0 Transport.PNG","images/Elite/Transport Fees/1 Transport.PNG","images/Elite/Transport Fees/2 Transport.PNG","images/Elite/Transport Fees/3 Transport.PNG","images/Elite/Transport Fees/4 Transport.PNG","images/Elite/Transport Fees/5 Transport.PNG","images/Elite/Transport Fees/No Transport.PNG","images/Environment/Rank/1-Common.PNG","images/Environment/Rank/2-Uncommon.PNG","images/Environment/Rank/3-Rare.PNG","images/Environment/Rank/4-Distinguished.PNG","images/Environment/Rank/5-Legendary.PNG","images/Government/Rank/1-Common.PNG","images/Government/Rank/2-Uncommon.PNG","images/Government/Rank/3-Rare.PNG","images/Government/Rank/4-Distinguished.PNG","images/Government/Rank/5-Legendary.PNG","images/Mission.png","images/MissionOrbit.png","images/Power3.png","images/Power4.png","images/Tech/Card Types/T-Basic.PNG","images/Tech/Card Types/T-Extended.PNG","images/Tech/Card Types/T-Response.PNG","images/Tech/Card Types/T-Supply.PNG","images/Tech/Rank/1-Common.PNG","images/Tech/Rank/2-Uncommon.PNG","images/Tech/Rank/3-Rare.PNG","images/Tech/Rank/4-Distinguished.PNG","images/Tech/Rank/5-Legendary.PNG","images/War/Card Types/W-Basic.PNG","images/War/Card Types/W-Extended.PNG","images/War/Rank/1-Common.PNG","images/War/Rank/2-Uncommon.PNG","images/War/Rank/3-Rare.PNG","images/War/Rank/4-Distinguished.PNG","images/War/Rank/5-Legendary.PNG","images/p0.png","images/p1.png","images/p2.png","records.js","cards/helpers.js","cards/apocalypse.js","cards/assault.js","cards/elite.js","cards/environment.js","cards/government.js","cards/tech.js","cards/war.js","cards/index.js","App.js","utils.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","imageKonvaProps","image","x","y","width","height","rotation","opacity","_initialWidth","_initialHeight","textKonvaProps","text","fontSize","fontFamily","fontStyle","textDecoration","align","verticalAlign","lineHeight","wrap","ellipsis","fill","stroke","undefined","strokeWidth","lineJoin","maxLength","uppercase","invalidRegex","_outline","_alternateText","_alternateFill","sceneFunc","shapeKonvaProps","Element","props","type","includes","konvaProps","Record","label","editableProps","options","initialValue","onUpload","onDraw","el","hidden","disabled","drawOrder","buildImageOptions","optionsMap","imagesPath","initialValueLabel","OrderedMap","mapEntries","value","require","toList","toJS","find","initialProps","initialScale","Math","min","round","alternateSceneFunc","context","shape","section","position","alternateTextArr","attrs","split","active","n","padding","lineHeightPx","textArr","textArrLen","length","alignY","totalWidth","getWidth","letterSpacing","shouldUnderline","indexOf","shouldLineThrough","translateY","setAttr","_getContextFont","getHeight","translate","spacesNumber","oneWord","lineWidth","lineTranslateX","obj","lastLine","save","beginPath","moveTo","lineTo","strokeStyle","restore","li","letter","_partialTextX","_partialTextY","_partialText","fillStrokeShape","measureSize","template","title","graphic","rank","Common","Uncommon","Rare","Distinguished","Legendary","attack","els","getIn","defense","classField","fieldStatus","Frontline","Range","transportFee","effectType","effect","effectTypeEl","effectText","flavor","creditsBG","credits","Map","name","elements","List","Air","Defense","Land","Personnel","Sea","Specialty","Structure","rapidDeployment","rapidDeploymentIcon","rapidDeploymentEl","rapidDeploymentFee","strength","strengthType","Apocalypse","Elite","weakness","weaknessType","requirement","imgSrc","src","specialtyOption","get","slice","lastIndexOf","reqTextEl","reqText","filter","Boolean","join","range","frontline","research","bonus","Basic","Extended","Supply","Response","marketValue","collateral","apocalypse","assault","elite","environment","government","tech","war","inIframe","window","location","parent","NumberInput","compose","withState","defaultValue","withHandlers","changeVal","val","setVal","onChange","Infinity","max","float","intermediate","currentValue","target","replace","c","i","t","parsedValue","parseFloat","parseInt","newValue","toString","lifecycle","componentDidUpdate","prev","this","onBlur","className","DisplayElement","shadowColor","shadowBlur","EditableElements","index","Array","isArray","editable","key","onSizeChange","onPropChange","htmlFor","checked","toggleHidden","FormElement","onFileInputChange","onImageSelectChange","onTextChange","rows","stage","onStageRef","ref","saveImage","cardData","missingValues","validateElement","setError","link","document","createElement","download","cardType","href","toDataURL","body","appendChild","click","removeChild","loadImage","Image","onload","setCardData","updateIn","mergeDeep","files","reader","FileReader","ev","result","readAsDataURL","toUpperCase","prop","w","h","componentDidMount","WebFont","load","custom","families","setFontsLoaded","setCardType","CARDS","card","update","appProps","onClick","fontsLoaded","sortBy","onSubmit","console","warn","error","ReactDOM","render","StrictMode","getElementById"],"mappings":"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C,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU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","file":"static/js/main.c94a25c3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Apocalypse.c6676b25.png\";","module.exports = __webpack_public_path__ + \"static/media/Assault.5f034185.png\";","module.exports = __webpack_public_path__ + \"static/media/NO Rapid Deployment.19a7ed58.PNG\";","module.exports = __webpack_public_path__ + \"static/media/Elite.6bc1d6fd.png\";","module.exports = __webpack_public_path__ + \"static/media/NO Rapid Deployment.19a7ed58.PNG\";","module.exports = __webpack_public_path__ + \"static/media/Environment.f47e1ba9.png\";","module.exports = __webpack_public_path__ + \"static/media/Government.febd4dbe.png\";","module.exports = __webpack_public_path__ + \"static/media/Tech.63d34767.png\";","module.exports = __webpack_public_path__ + \"static/media/War.b1b3bf2e.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP6zwAAAgcBApocMXEAAAAASUVORK5CYII=\"","var map = {\n\t\"./Apocalypse/Apocalypse.png\": 36,\n\t\"./Apocalypse/Field Status/Frontline.PNG\": 105,\n\t\"./Apocalypse/Field Status/Range.PNG\": 106,\n\t\"./Apocalypse/Rank/1-Common.PNG\": 107,\n\t\"./Apocalypse/Rank/2-Uncommon.PNG\": 108,\n\t\"./Apocalypse/Rank/3-Rare.PNG\": 109,\n\t\"./Apocalypse/Rank/4-Distinguished.PNG\": 110,\n\t\"./Apocalypse/Rank/5-Legendary.PNG\": 111,\n\t\"./Apocalypse/Transport Fees/0 Transport.PNG\": 112,\n\t\"./Apocalypse/Transport Fees/1 Transport.PNG\": 113,\n\t\"./Apocalypse/Transport Fees/2 Transport.PNG\": 114,\n\t\"./Apocalypse/Transport Fees/3 Transport.PNG\": 115,\n\t\"./Apocalypse/Transport Fees/4 Transport.PNG\": 116,\n\t\"./Apocalypse/Transport Fees/5 Transport.PNG\": 117,\n\t\"./Apocalypse/Transport Fees/No Transport.PNG\": 118,\n\t\"./Assault/Assault.png\": 37,\n\t\"./Assault/Card Types/Air.PNG\": 119,\n\t\"./Assault/Card Types/Defense.PNG\": 120,\n\t\"./Assault/Card Types/Land.PNG\": 121,\n\t\"./Assault/Card Types/Personnel.PNG\": 122,\n\t\"./Assault/Card Types/Sea.PNG\": 123,\n\t\"./Assault/Card Types/Specialty.PNG\": 124,\n\t\"./Assault/Card Types/Structure.PNG\": 125,\n\t\"./Assault/Field Status/Frontline.PNG\": 126,\n\t\"./Assault/Field Status/Range.PNG\": 127,\n\t\"./Assault/Rank/1-Common.PNG\": 128,\n\t\"./Assault/Rank/2-Uncommon.PNG\": 129,\n\t\"./Assault/Rank/3-Rare.PNG\": 130,\n\t\"./Assault/Rank/4-Distinguished.PNG\": 131,\n\t\"./Assault/Rank/5-Legendary.PNG\": 132,\n\t\"./Assault/Rapid Deployment/NO Rapid Deployment.PNG\": 38,\n\t\"./Assault/Strength Types/S-Air.PNG\": 133,\n\t\"./Assault/Strength Types/S-Apocalypse.PNG\": 134,\n\t\"./Assault/Strength Types/S-Defense.PNG\": 135,\n\t\"./Assault/Strength Types/S-Elite.PNG\": 136,\n\t\"./Assault/Strength Types/S-Land.PNG\": 137,\n\t\"./Assault/Strength Types/S-Personnel.PNG\": 138,\n\t\"./Assault/Strength Types/S-Sea.PNG\": 139,\n\t\"./Assault/Strength Types/S-Specialty.PNG\": 140,\n\t\"./Assault/Strength Types/S-Structure.PNG\": 141,\n\t\"./Assault/Transport Fees/0 Transport.PNG\": 142,\n\t\"./Assault/Transport Fees/1 Transport.PNG\": 143,\n\t\"./Assault/Transport Fees/2 Transport.PNG\": 144,\n\t\"./Assault/Transport Fees/3 Transport.PNG\": 145,\n\t\"./Assault/Transport Fees/4 Transport.PNG\": 146,\n\t\"./Assault/Transport Fees/5 Transport.PNG\": 147,\n\t\"./Assault/Transport Fees/No Transport.PNG\": 148,\n\t\"./Assault/Weakness Types/W-Air.PNG\": 149,\n\t\"./Assault/Weakness Types/W-Apocalypse.PNG\": 150,\n\t\"./Assault/Weakness Types/W-Defense.PNG\": 151,\n\t\"./Assault/Weakness Types/W-Elite.PNG\": 152,\n\t\"./Assault/Weakness Types/W-Land.PNG\": 153,\n\t\"./Assault/Weakness Types/W-Personnel.PNG\": 154,\n\t\"./Assault/Weakness Types/W-Sea.PNG\": 155,\n\t\"./Assault/Weakness Types/W-Specialty.PNG\": 156,\n\t\"./Assault/Weakness Types/W-Structure.PNG\": 157,\n\t\"./Elite/Elite.png\": 39,\n\t\"./Elite/Field Status/Frontline.PNG\": 158,\n\t\"./Elite/Field Status/Range.PNG\": 159,\n\t\"./Elite/Rank/1-Common.PNG\": 160,\n\t\"./Elite/Rank/2-Uncommon.PNG\": 161,\n\t\"./Elite/Rank/3-Rare.PNG\": 162,\n\t\"./Elite/Rank/4-Distinguished.PNG\": 163,\n\t\"./Elite/Rank/5-Legendary.PNG\": 164,\n\t\"./Elite/Rapid Deployment/NO Rapid Deployment.PNG\": 40,\n\t\"./Elite/Transport Fees/0 Transport.PNG\": 165,\n\t\"./Elite/Transport Fees/1 Transport.PNG\": 166,\n\t\"./Elite/Transport Fees/2 Transport.PNG\": 167,\n\t\"./Elite/Transport Fees/3 Transport.PNG\": 168,\n\t\"./Elite/Transport Fees/4 Transport.PNG\": 169,\n\t\"./Elite/Transport Fees/5 Transport.PNG\": 170,\n\t\"./Elite/Transport Fees/No Transport.PNG\": 171,\n\t\"./Environment/Environment.png\": 41,\n\t\"./Environment/Rank/1-Common.PNG\": 172,\n\t\"./Environment/Rank/2-Uncommon.PNG\": 173,\n\t\"./Environment/Rank/3-Rare.PNG\": 174,\n\t\"./Environment/Rank/4-Distinguished.PNG\": 175,\n\t\"./Environment/Rank/5-Legendary.PNG\": 176,\n\t\"./Government/Government.png\": 42,\n\t\"./Government/Rank/1-Common.PNG\": 177,\n\t\"./Government/Rank/2-Uncommon.PNG\": 178,\n\t\"./Government/Rank/3-Rare.PNG\": 179,\n\t\"./Government/Rank/4-Distinguished.PNG\": 180,\n\t\"./Government/Rank/5-Legendary.PNG\": 181,\n\t\"./Mission.png\": 182,\n\t\"./MissionOrbit.png\": 183,\n\t\"./Power3.png\": 184,\n\t\"./Power4.png\": 185,\n\t\"./Tech/Card Types/T-Basic.PNG\": 186,\n\t\"./Tech/Card Types/T-Extended.PNG\": 187,\n\t\"./Tech/Card Types/T-Response.PNG\": 188,\n\t\"./Tech/Card Types/T-Supply.PNG\": 189,\n\t\"./Tech/Rank/1-Common.PNG\": 190,\n\t\"./Tech/Rank/2-Uncommon.PNG\": 191,\n\t\"./Tech/Rank/3-Rare.PNG\": 192,\n\t\"./Tech/Rank/4-Distinguished.PNG\": 193,\n\t\"./Tech/Rank/5-Legendary.PNG\": 194,\n\t\"./Tech/Tech.png\": 43,\n\t\"./War/Card Types/W-Basic.PNG\": 195,\n\t\"./War/Card Types/W-Extended.PNG\": 196,\n\t\"./War/Rank/1-Common.PNG\": 197,\n\t\"./War/Rank/2-Uncommon.PNG\": 198,\n\t\"./War/Rank/3-Rare.PNG\": 199,\n\t\"./War/Rank/4-Distinguished.PNG\": 200,\n\t\"./War/Rank/5-Legendary.PNG\": 201,\n\t\"./War/War.png\": 44,\n\t\"./blank.png\": 45,\n\t\"./p0.png\": 202,\n\t\"./p1.png\": 203,\n\t\"./p2.png\": 204\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 104;","module.exports = __webpack_public_path__ + \"static/media/Frontline.56c88a14.PNG\";","module.exports = __webpack_public_path__ + \"static/media/Range.917ffb66.PNG\";","module.exports = __webpack_public_path__ + \"static/media/1-Common.62f5a544.PNG\";","module.exports = __webpack_public_path__ + \"static/media/2-Uncommon.5e083220.PNG\";","module.exports = __webpack_public_path__ + \"static/media/3-Rare.9c1e941e.PNG\";","module.exports = __webpack_public_path__ + \"static/media/4-Distinguished.7a9eff8c.PNG\";","module.exports = __webpack_public_path__ + \"static/media/5-Legendary.adbbf06a.PNG\";","module.exports = __webpack_public_path__ + \"static/media/0 Transport.66592cd2.PNG\";","module.exports = __webpack_public_path__ + \"static/media/1 Transport.31291b64.PNG\";","module.exports = __webpack_public_path__ + \"static/media/2 Transport.8ae44e5f.PNG\";","module.exports = __webpack_public_path__ + \"static/media/3 Transport.6b73e764.PNG\";","module.exports = __webpack_public_path__ + \"static/media/4 Transport.5aca9f09.PNG\";","module.exports = __webpack_public_path__ + \"static/media/5 Transport.98e5e039.PNG\";","module.exports = __webpack_public_path__ + \"static/media/No Transport.f21a5809.PNG\";","module.exports = __webpack_public_path__ + \"static/media/Air.78b59ab9.PNG\";","module.exports = __webpack_public_path__ + \"static/media/Defense.84572b75.PNG\";","module.exports = __webpack_public_path__ + \"static/media/Land.6ae1b8e7.PNG\";","module.exports = __webpack_public_path__ + \"static/media/Personnel.f66e599f.PNG\";","module.exports = __webpack_public_path__ + \"static/media/Sea.fabf275c.PNG\";","module.exports = __webpack_public_path__ + \"static/media/Specialty.0fe42b83.PNG\";","module.exports = __webpack_public_path__ + \"static/media/Structure.25fcdbc7.PNG\";","module.exports = __webpack_public_path__ + \"static/media/Frontline.56c88a14.PNG\";","module.exports = __webpack_public_path__ + \"static/media/Range.917ffb66.PNG\";","module.exports = __webpack_public_path__ + \"static/media/1-Common.62f5a544.PNG\";","module.exports = __webpack_public_path__ + \"static/media/2-Uncommon.5e083220.PNG\";","module.exports = __webpack_public_path__ + \"static/media/3-Rare.9c1e941e.PNG\";","module.exports = __webpack_public_path__ + \"static/media/4-Distinguished.7a9eff8c.PNG\";","module.exports = __webpack_public_path__ + \"static/media/5-Legendary.adbbf06a.PNG\";","module.exports = __webpack_public_path__ + \"static/media/S-Air.06d21625.PNG\";","module.exports = __webpack_public_path__ + \"static/media/S-Apocalypse.c89272ba.PNG\";","module.exports = __webpack_public_path__ + \"static/media/S-Defense.52a2c594.PNG\";","module.exports = __webpack_public_path__ + \"static/media/S-Elite.d405b762.PNG\";","module.exports = __webpack_public_path__ + \"static/media/S-Land.f8762d85.PNG\";","module.exports = __webpack_public_path__ + \"static/media/S-Personnel.dc13deb6.PNG\";","module.exports = __webpack_public_path__ + \"static/media/S-Sea.2ab0b7a6.PNG\";","module.exports = __webpack_public_path__ + \"static/media/S-Specialty.b1588b70.PNG\";","module.exports = __webpack_public_path__ + \"static/media/S-Structure.89382b99.PNG\";","module.exports = __webpack_public_path__ + \"static/media/0 Transport.66592cd2.PNG\";","module.exports = __webpack_public_path__ + \"static/media/1 Transport.31291b64.PNG\";","module.exports = __webpack_public_path__ + \"static/media/2 Transport.8ae44e5f.PNG\";","module.exports = __webpack_public_path__ + \"static/media/3 Transport.6b73e764.PNG\";","module.exports = __webpack_public_path__ + \"static/media/4 Transport.5aca9f09.PNG\";","module.exports = __webpack_public_path__ + \"static/media/5 Transport.98e5e039.PNG\";","module.exports = __webpack_public_path__ + \"static/media/No Transport.f21a5809.PNG\";","module.exports = __webpack_public_path__ + \"static/media/W-Air.14af9e98.PNG\";","module.exports = __webpack_public_path__ + \"static/media/W-Apocalypse.b8030a3b.PNG\";","module.exports = __webpack_public_path__ + \"static/media/W-Defense.56c1d65c.PNG\";","module.exports = __webpack_public_path__ + \"static/media/W-Elite.1bf6d5c4.PNG\";","module.exports = __webpack_public_path__ + \"static/media/W-Land.9cfab071.PNG\";","module.exports = __webpack_public_path__ + \"static/media/W-Personnel.f8fa293c.PNG\";","module.exports = __webpack_public_path__ + \"static/media/W-Sea.71749e56.PNG\";","module.exports = __webpack_public_path__ + \"static/media/W-Specialty.b1b61c5e.PNG\";","module.exports = __webpack_public_path__ + \"static/media/W-Structure.e5659e3f.PNG\";","module.exports = __webpack_public_path__ + \"static/media/Frontline.56c88a14.PNG\";","module.exports = __webpack_public_path__ + \"static/media/Range.917ffb66.PNG\";","module.exports = __webpack_public_path__ + \"static/media/1-Common.62f5a544.PNG\";","module.exports = __webpack_public_path__ + \"static/media/2-Uncommon.5e083220.PNG\";","module.exports = __webpack_public_path__ + \"static/media/3-Rare.9c1e941e.PNG\";","module.exports = __webpack_public_path__ + \"static/media/4-Distinguished.7a9eff8c.PNG\";","module.exports = __webpack_public_path__ + \"static/media/5-Legendary.adbbf06a.PNG\";","module.exports = __webpack_public_path__ + \"static/media/0 Transport.66592cd2.PNG\";","module.exports = __webpack_public_path__ + \"static/media/1 Transport.31291b64.PNG\";","module.exports = __webpack_public_path__ + \"static/media/2 Transport.8ae44e5f.PNG\";","module.exports = __webpack_public_path__ + \"static/media/3 Transport.6b73e764.PNG\";","module.exports = __webpack_public_path__ + \"static/media/4 Transport.5aca9f09.PNG\";","module.exports = __webpack_public_path__ + \"static/media/5 Transport.98e5e039.PNG\";","module.exports = __webpack_public_path__ + \"static/media/No Transport.f21a5809.PNG\";","module.exports = __webpack_public_path__ + \"static/media/1-Common.62f5a544.PNG\";","module.exports = __webpack_public_path__ + \"static/media/2-Uncommon.5e083220.PNG\";","module.exports = __webpack_public_path__ + \"static/media/3-Rare.9c1e941e.PNG\";","module.exports = __webpack_public_path__ + \"static/media/4-Distinguished.7a9eff8c.PNG\";","module.exports = __webpack_public_path__ + \"static/media/5-Legendary.adbbf06a.PNG\";","module.exports = __webpack_public_path__ + \"static/media/1-Common.62f5a544.PNG\";","module.exports = __webpack_public_path__ + \"static/media/2-Uncommon.5e083220.PNG\";","module.exports = __webpack_public_path__ + \"static/media/3-Rare.9c1e941e.PNG\";","module.exports = __webpack_public_path__ + \"static/media/4-Distinguished.7a9eff8c.PNG\";","module.exports = __webpack_public_path__ + \"static/media/5-Legendary.adbbf06a.PNG\";","module.exports = __webpack_public_path__ + \"static/media/Mission.1683ff49.png\";","module.exports = __webpack_public_path__ + \"static/media/MissionOrbit.f01d4224.png\";","module.exports = __webpack_public_path__ + \"static/media/Power3.5ca018c5.png\";","module.exports = __webpack_public_path__ + \"static/media/Power4.b1a5e4b6.png\";","module.exports = __webpack_public_path__ + \"static/media/T-Basic.8ab16ac5.PNG\";","module.exports = __webpack_public_path__ + \"static/media/T-Extended.80ced900.PNG\";","module.exports = __webpack_public_path__ + \"static/media/T-Response.de5da3fb.PNG\";","module.exports = __webpack_public_path__ + \"static/media/T-Supply.30c5433b.PNG\";","module.exports = __webpack_public_path__ + \"static/media/1-Common.62f5a544.PNG\";","module.exports = __webpack_public_path__ + \"static/media/2-Uncommon.5e083220.PNG\";","module.exports = __webpack_public_path__ + \"static/media/3-Rare.9c1e941e.PNG\";","module.exports = __webpack_public_path__ + \"static/media/4-Distinguished.7a9eff8c.PNG\";","module.exports = __webpack_public_path__ + \"static/media/5-Legendary.adbbf06a.PNG\";","module.exports = __webpack_public_path__ + \"static/media/W-Basic.be2bae56.PNG\";","module.exports = __webpack_public_path__ + \"static/media/W-Extended.4ca5cd6b.PNG\";","module.exports = __webpack_public_path__ + \"static/media/1-Common.62f5a544.PNG\";","module.exports = __webpack_public_path__ + \"static/media/2-Uncommon.5e083220.PNG\";","module.exports = __webpack_public_path__ + \"static/media/3-Rare.9c1e941e.PNG\";","module.exports = __webpack_public_path__ + \"static/media/4-Distinguished.7a9eff8c.PNG\";","module.exports = __webpack_public_path__ + \"static/media/5-Legendary.adbbf06a.PNG\";","module.exports = __webpack_public_path__ + \"static/media/p0.fd011fd4.png\";","module.exports = __webpack_public_path__ + \"static/media/p1.871391af.png\";","module.exports = __webpack_public_path__ + \"static/media/p2.b0ae805e.png\";","import { Record } from 'immutable';\r\n\r\nexport const imageKonvaProps = {\r\n  image: '',\r\n  x: 0,\r\n  y: 0,\r\n  width: 0,\r\n  height: 0,\r\n  rotation: 0,\r\n  opacity: 1,\r\n  // scale: { x: 1, y: 1 },\r\n  _initialWidth: 0,\r\n  _initialHeight: 0,\r\n};\r\n\r\nexport const textKonvaProps = {\r\n  text: '',\r\n  x: 0,\r\n  y: 0,\r\n  width: 0,\r\n  height: 0,\r\n  rotation: 0,\r\n  opacity: 1,\r\n  fontSize: 50,\r\n  fontFamily: '',\r\n  fontStyle: 'normal', // ['normal', 'bold', 'italic'],\r\n  textDecoration: '', // ['', 'underline', 'line-through'],\r\n  align: 'left', // ['left', 'center', 'right'],\r\n  verticalAlign: 'top', // ['top', 'middle', 'bottom'],\r\n  lineHeight: 1.225,\r\n  wrap: 'word', // ['word', 'char', 'none'],\r\n  ellipsis: false,\r\n  fill: '#000000',\r\n  stroke: undefined,\r\n  strokeWidth: 0,\r\n  lineJoin: 'round',\r\n  maxLength: 0,\r\n  uppercase: false,\r\n  invalidRegex: null,\r\n  _outline: false,\r\n  _alternateText: undefined,\r\n  _alternateFill: undefined,\r\n  sceneFunc: undefined,\r\n};\r\n\r\nexport const shapeKonvaProps = {\r\n  x: 0,\r\n  y: 0,\r\n  width: 0,\r\n  height: 0,\r\n  fill: undefined,\r\n  stroke: undefined,\r\n  strokeWidth: 0,\r\n};\r\n\r\nexport const Element = (props = {}) => {\r\n  const type = [\r\n    'image',\r\n    'imageSelect',\r\n    'imageStatic',\r\n    'shape-rect',\r\n    'textarea',\r\n    'select',\r\n    'input',\r\n  ].includes(props.type)\r\n    ? props.type\r\n    : 'input';\r\n\r\n  const konvaProps = ['image', 'imageSelect', 'imageStatic'].includes(type)\r\n    ? imageKonvaProps\r\n    : ['shape-rect'].includes(type)\r\n    ? shapeKonvaProps\r\n    : textKonvaProps;\r\n\r\n  return Record({\r\n    id: '',\r\n    label: '',\r\n    type: 'input',\r\n    editableProps: null,\r\n    options: null,\r\n    initialValue: null,\r\n    onUpload: () => ({}), // fn(image)\r\n    onDraw: (el) => el.konvaProps, // fn(el, elements)\r\n    hidden: false, // fn(el, elements) || boolean\r\n    disabled: false, // fn(el, elements) || boolean\r\n    drawOrder: 100,\r\n    konvaProps,\r\n  })({\r\n    ...props,\r\n    type,\r\n    konvaProps: {\r\n      ...konvaProps,\r\n      ...props.konvaProps,\r\n    },\r\n  });\r\n};\r\n","import { OrderedMap } from 'immutable';\r\n\r\nexport const buildImageOptions = (\r\n  optionsMap,\r\n  imagesPath,\r\n  initialValueLabel,\r\n) => {\r\n  const options = OrderedMap(optionsMap)\r\n    .mapEntries(([label, value]) => [\r\n      label,\r\n      {\r\n        label,\r\n        value: require(`../images/${imagesPath}/${value}`),\r\n      },\r\n    ])\r\n    .toList()\r\n    .toJS();\r\n  const initialValue =\r\n    initialValueLabel && options.find((o) => o.label === initialValueLabel);\r\n\r\n  return {\r\n    options,\r\n    initialValue: initialValue ? initialValue.value : undefined,\r\n  };\r\n};\r\n\r\nexport const onUpload = (initialProps = {}) => (image) => {\r\n  const initialScale = Math.min(825 / image.width, 1125 / image.height, 1);\r\n  return {\r\n    konvaProps: {\r\n      image,\r\n      x: 0,\r\n      y: 0,\r\n      width: Math.round(image.width * initialScale),\r\n      height: Math.round(image.height * initialScale),\r\n      rotation: 0,\r\n      opacity: 1,\r\n      // scale: { x: initialScale, y: initialScale },\r\n      ...initialProps,\r\n      _initialWidth: image.width,\r\n      _initialHeight: image.height,\r\n    },\r\n  };\r\n};\r\nexport const alternateSceneFunc = (context, shape) => {\r\n  var section = 0,\r\n    position = 0,\r\n    alternateTextArr = shape.attrs._alternateText.split('<^>'),\r\n    active = false;\r\n  while (\r\n    alternateTextArr[section] !== undefined &&\r\n    !alternateTextArr[section][0]\r\n  ) {\r\n    section++;\r\n    active = !active;\r\n  }\r\n\r\n  var padding = shape.padding(),\r\n    fontSize = shape.fontSize(),\r\n    lineHeightPx = shape.lineHeight() * fontSize,\r\n    textArr = shape.textArr,\r\n    textArrLen = textArr.length,\r\n    verticalAlign = shape.verticalAlign(),\r\n    alignY = 0,\r\n    align = shape.align(),\r\n    totalWidth = shape.getWidth(),\r\n    letterSpacing = shape.letterSpacing(),\r\n    fill = shape.fill(),\r\n    textDecoration = shape.textDecoration(),\r\n    shouldUnderline = textDecoration.indexOf('underline') !== -1,\r\n    shouldLineThrough = textDecoration.indexOf('line-through') !== -1,\r\n    n;\r\n\r\n  var translateY = lineHeightPx / 2;\r\n\r\n  context.setAttr('font', shape._getContextFont());\r\n  context.setAttr('textBaseline', 'middle');\r\n  context.setAttr('textAlign', 'left');\r\n\r\n  // handle vertical alignment\r\n  if (verticalAlign === 'middle') {\r\n    alignY = (shape.getHeight() - textArrLen * lineHeightPx - padding * 2) / 2;\r\n  } else if (verticalAlign === 'bottom') {\r\n    alignY = shape.getHeight() - textArrLen * lineHeightPx - padding * 2;\r\n  }\r\n\r\n  context.translate(padding, alignY + padding);\r\n\r\n  // draw text lines\r\n  for (n = 0; n < textArrLen; n++) {\r\n    var lineTranslateX = 0;\r\n    var lineTranslateY = 0;\r\n    var obj = textArr[n],\r\n      text = obj.text,\r\n      width = obj.width,\r\n      lastLine = n !== textArrLen - 1,\r\n      spacesNumber,\r\n      oneWord,\r\n      lineWidth;\r\n\r\n    // horizontal alignment\r\n    context.save();\r\n    if (align === 'right') {\r\n      lineTranslateX += totalWidth - width - padding * 2;\r\n    } else if (align === 'center') {\r\n      lineTranslateX += (totalWidth - width - padding * 2) / 2;\r\n    }\r\n\r\n    if (shouldUnderline) {\r\n      context.save();\r\n      context.beginPath();\r\n\r\n      context.moveTo(\r\n        lineTranslateX,\r\n        translateY + lineTranslateY + Math.round(fontSize / 2),\r\n      );\r\n      spacesNumber = text.split(' ').length - 1;\r\n      oneWord = spacesNumber === 0;\r\n      lineWidth =\r\n        align === 'justify' && lastLine && !oneWord\r\n          ? totalWidth - padding * 2\r\n          : width;\r\n      context.lineTo(\r\n        lineTranslateX + Math.round(lineWidth),\r\n        translateY + lineTranslateY + Math.round(fontSize / 2),\r\n      );\r\n\r\n      // I have no idea what is real ratio\r\n      // just /15 looks good enough\r\n      context.lineWidth = fontSize / 15;\r\n      context.strokeStyle = fill;\r\n      context.stroke();\r\n      context.restore();\r\n    }\r\n    if (shouldLineThrough) {\r\n      context.save();\r\n      context.beginPath();\r\n      context.moveTo(lineTranslateX, translateY + lineTranslateY);\r\n      spacesNumber = text.split(' ').length - 1;\r\n      oneWord = spacesNumber === 0;\r\n      lineWidth =\r\n        align === 'justify' && lastLine && !oneWord\r\n          ? totalWidth - padding * 2\r\n          : width;\r\n      context.lineTo(\r\n        lineTranslateX + Math.round(lineWidth),\r\n        translateY + lineTranslateY,\r\n      );\r\n      context.lineWidth = fontSize / 15;\r\n      context.strokeStyle = fill;\r\n      context.stroke();\r\n      context.restore();\r\n    }\r\n\r\n    spacesNumber = text.split(' ').length - 1;\r\n    for (var li = 0; li < text.length; li++) {\r\n      var letter = text[li];\r\n      if (\r\n        letterSpacing !== 0 &&\r\n        letter === ' ' &&\r\n        n !== textArrLen - 1 &&\r\n        align === 'justify'\r\n      ) {\r\n        lineTranslateX += (totalWidth - padding * 2 - width) / spacesNumber;\r\n      }\r\n      shape._partialTextX = lineTranslateX;\r\n      shape._partialTextY = translateY + lineTranslateY;\r\n      shape._partialText = letter;\r\n\r\n      if (active) {\r\n        shape.fill(shape.attrs._alternateFill);\r\n      } else {\r\n        shape.fill(fill);\r\n      }\r\n      context.fillStrokeShape(shape);\r\n\r\n      lineTranslateX += shape.measureSize(letter).width + letterSpacing;\r\n\r\n      if (alternateTextArr[section] !== undefined) {\r\n        if (alternateTextArr[section].length > position + 1) {\r\n          position++;\r\n        } else {\r\n          do {\r\n            section++;\r\n            position = 0;\r\n            active = !active;\r\n          } while (\r\n            alternateTextArr[section] !== undefined &&\r\n            !alternateTextArr[section][0]\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    context.restore();\r\n\r\n    if (textArrLen > 1) {\r\n      translateY += lineHeightPx;\r\n\r\n      if (alternateTextArr[section] !== undefined) {\r\n        if (alternateTextArr[section].length > position + 1) {\r\n          position++;\r\n        } else {\r\n          do {\r\n            section++;\r\n            position = 0;\r\n            active = !active;\r\n          } while (\r\n            alternateTextArr[section] !== undefined &&\r\n            !alternateTextArr[section][0]\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Reset fill\r\n  shape.fill(fill);\r\n};\r\n","import { Map, List } from 'immutable';\r\nimport { Element } from '../records';\r\nimport { onUpload, buildImageOptions, alternateSceneFunc } from './helpers';\r\n\r\n/** APOCALYPSE CARD ELEMENTS **************************************************/\r\n\r\nconst template = Element({\r\n  id: 'template-image',\r\n  label: 'Template',\r\n  type: 'imageStatic',\r\n  initialValue: require('../images/Apocalypse/Apocalypse.png'),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n  drawOrder: 2,\r\n});\r\n\r\nconst title = Element({\r\n  id: 'title-input',\r\n  label: 'Title',\r\n  type: 'input',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 65,\r\n    y: 68,\r\n    width: 430,\r\n    height: 100,\r\n    fontSize: 70,\r\n    fontFamily: 'ShareBold',\r\n    align: 'right',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#E8C70E',\r\n    uppercase: true,\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst graphic = Element({\r\n  id: 'main-image',\r\n  label: 'Graphic',\r\n  type: 'image',\r\n  onUpload: onUpload(),\r\n  drawOrder: 1,\r\n  editableProps: ['size', 'position'],\r\n});\r\n\r\nconst rank = Element({\r\n  id: 'rank-image',\r\n  label: 'Rank',\r\n  type: 'imageSelect',\r\n  ...buildImageOptions(\r\n    {\r\n      Common: '1-Common.PNG',\r\n      Uncommon: '2-Uncommon.PNG',\r\n      Rare: '3-Rare.PNG',\r\n      Distinguished: '4-Distinguished.PNG',\r\n      Legendary: '5-Legendary.PNG',\r\n    },\r\n    'Apocalypse/Rank',\r\n    'Common',\r\n  ),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n});\r\n\r\nconst attack = Element({\r\n  id: 'attack-input',\r\n  label: 'Attack',\r\n  type: 'input',\r\n  initialValue: '0',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 84,\r\n    y: 138,\r\n    width: 675,\r\n    height: 975,\r\n    fontSize: 70,\r\n    fontFamily: 'Anton',\r\n    align: 'left',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n    _alternateFill: '#000000',\r\n    maxLength: 2,\r\n    uppercase: true,\r\n    sceneFunc: alternateSceneFunc,\r\n  },\r\n  onDraw: (el, els) => ({\r\n    ...el.konvaProps,\r\n    text: `ATK ${el.getIn(['konvaProps', 'text'])}`,\r\n    _alternateText: `<^>ATK<^> ${el.getIn(['konvaProps', 'text'])}`,\r\n  }),\r\n});\r\n\r\nconst defense = Element({\r\n  id: 'defense-input',\r\n  label: 'Defense',\r\n  type: 'input',\r\n  initialValue: '0',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 68,\r\n    y: 138,\r\n    width: 675,\r\n    height: 975,\r\n    fontSize: 70,\r\n    fontFamily: 'Anton',\r\n    align: 'right',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n    _alternateFill: '#000000',\r\n    maxLength: 2,\r\n    uppercase: true,\r\n    sceneFunc: alternateSceneFunc,\r\n  },\r\n  onDraw: (el, els) => ({\r\n    ...el.konvaProps,\r\n    text: `${el.getIn(['konvaProps', 'text'])} DEF`,\r\n    _alternateText: `${el.getIn(['konvaProps', 'text'])} <^>DEF<^>`,\r\n  }),\r\n});\r\n\r\nconst classField = Element({\r\n  id: 'class-select',\r\n  label: 'Class',\r\n  type: 'select',\r\n  options: [\r\n    { label: 'Physical', value: 'PHYSICAL' },\r\n    { label: 'Theoretical', value: 'THEORETICAL' },\r\n  ],\r\n  initialValue: 'PHYSICAL',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 282,\r\n    y: 563,\r\n    width: 261,\r\n    height: 80,\r\n    fontSize: 44,\r\n    fontFamily: 'ShareBold',\r\n    align: 'center',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#CACACA',\r\n    stroke: '#000000',\r\n    strokeWidth: 4,\r\n  },\r\n});\r\n\r\nconst code = Element({\r\n  id: 'code-input',\r\n  label: 'Code',\r\n  type: 'input',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 75,\r\n    y: 153,\r\n    width: 675,\r\n    height: 975,\r\n    fontSize: 32,\r\n    fontFamily: 'ShareTechMono',\r\n    align: 'center',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#E8C70E',\r\n    stroke: '#000000',\r\n    strokeWidth: 4,\r\n    maxLength: 14,\r\n    uppercase: true,\r\n    invalidRegex: /[^A-Z\\d]/g,\r\n  },\r\n});\r\n\r\nconst fieldStatus = Element({\r\n  id: 'field-status-image',\r\n  label: 'Field Status',\r\n  type: 'imageSelect',\r\n  ...buildImageOptions(\r\n    {\r\n      Frontline: 'Frontline.PNG',\r\n      Range: 'Range.PNG',\r\n    },\r\n    'Assault/Field Status',\r\n    'Frontline',\r\n  ),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n});\r\n\r\nconst transportFee = Element({\r\n  id: 'transport-fee-image',\r\n  label: 'Transport Fee',\r\n  type: 'imageSelect',\r\n  ...buildImageOptions(\r\n    {\r\n      'No Transport Fee': 'No Transport.PNG',\r\n      '0 Transport Fee': '0 Transport.PNG',\r\n      '1 Transport Fee': '1 Transport.PNG',\r\n      '2 Transport Fee': '2 Transport.PNG',\r\n      '3 Transport Fee': '3 Transport.PNG',\r\n      '4 Transport Fee': '4 Transport.PNG',\r\n      '5 Transport Fee': '5 Transport.PNG',\r\n    },\r\n    'Apocalypse/Transport Fees',\r\n    '0 Transport Fee',\r\n  ),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n});\r\n\r\nconst effectType = Element({\r\n  id: 'effect-type-select',\r\n  label: 'Effect Type',\r\n  type: 'select',\r\n  options: [\r\n    { label: 'Effect', value: 'EFFECT' },\r\n    { label: 'Ambush', value: 'AMBUSH' },\r\n  ],\r\n  initialValue: 'EFFECT',\r\n  hidden: true,\r\n});\r\n\r\nconst effect = Element({\r\n  id: 'effect-textarea',\r\n  label: 'Effect Text',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 180,\r\n    y: 705,\r\n    width: 540,\r\n    height: 170,\r\n    fontSize: 26,\r\n    fontFamily: 'Roboto',\r\n    align: 'left',\r\n    verticalAlign: 'top',\r\n    fill: '#ffffff',\r\n    stroke: '#000000',\r\n    strokeWidth: 3,\r\n    _alternateFill: '#ff0000',\r\n    sceneFunc: alternateSceneFunc,\r\n  },\r\n  onDraw: (el, els) => {\r\n    const effectTypeEl = els.find((e) => e.id === 'effect-type-select');\r\n    const effectType = effectTypeEl\r\n      ? effectTypeEl.getIn(['konvaProps', 'text'])\r\n      : null;\r\n    const effectText = el.getIn(['konvaProps', 'text']);\r\n    return {\r\n      ...el.konvaProps,\r\n      text: effectType && effectText ? `${effectType}: ${effectText}` : '',\r\n      _alternateText:\r\n        effectType && effectText\r\n          ? `${\r\n              effectType === 'AMBUSH'\r\n                ? `<^>${effectType}:<^>`\r\n                : `${effectType}:`\r\n            } ${effectText}`\r\n          : '',\r\n    };\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst flavor = Element({\r\n  id: 'flavor-textarea',\r\n  label: 'Flavor Text',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 172,\r\n    y: 900,\r\n    width: 580,\r\n    height: 100,\r\n    fontSize: 20,\r\n    fontFamily: 'CormorantInfantMediumItalic',\r\n    align: 'left',\r\n    verticalAlign: 'bottom',\r\n    fill: '#ffffff',\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst creditsBG = Element({\r\n  id: 'credits-background',\r\n  type: 'shape-rect',\r\n  konvaProps: {\r\n    x: 0,\r\n    y: 1018,\r\n    width: 825,\r\n    height: 22,\r\n    fill: '#ff0000',\r\n    stroke: '#E8C70E',\r\n    strokeWidth: 4,\r\n  },\r\n});\r\n\r\nconst credits = Element({\r\n  id: 'credits-textarea',\r\n  label: 'Credits',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 75,\r\n    y: 1019,\r\n    width: 675,\r\n    height: 20,\r\n    fontSize: 16.7,\r\n    fontFamily: 'ShareTechMono',\r\n    align: 'center',\r\n    verticalAlign: 'bottom',\r\n    wrap: 'none',\r\n    fill: '#E8C70E',\r\n  },\r\n});\r\n\r\nexport default Map({\r\n  name: 'Apocalypse',\r\n  elements: List([\r\n    template,\r\n    title,\r\n    graphic,\r\n    rank,\r\n    attack,\r\n    defense,\r\n    classField,\r\n    code,\r\n    fieldStatus,\r\n    transportFee,\r\n    effectType,\r\n    effect,\r\n    flavor,\r\n    creditsBG,\r\n    credits,\r\n  ]),\r\n});\r\n","import { Map, List } from 'immutable';\r\nimport { Element } from '../records';\r\nimport { onUpload, buildImageOptions, alternateSceneFunc } from './helpers';\r\n\r\n/** ASSAULT CARD ELEMENTS *****************************************************/\r\n\r\nconst template = Element({\r\n  id: 'template-image',\r\n  label: 'Template',\r\n  type: 'imageStatic',\r\n  initialValue: require('../images/Assault/Assault.png'),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n  drawOrder: 2,\r\n});\r\n\r\nconst title = Element({\r\n  id: 'title-input',\r\n  label: 'Title',\r\n  type: 'input',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 65,\r\n    y: 68,\r\n    width: 430,\r\n    height: 100,\r\n    fontSize: 70,\r\n    fontFamily: 'ShareBold',\r\n    align: 'right',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n    uppercase: true,\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst graphic = Element({\r\n  id: 'main-image',\r\n  label: 'Graphic',\r\n  type: 'image',\r\n  onUpload: onUpload(),\r\n  drawOrder: 1,\r\n  editableProps: ['size', 'position'],\r\n});\r\n\r\nconst rank = Element({\r\n  id: 'rank-image',\r\n  label: 'Rank',\r\n  type: 'imageSelect',\r\n  ...buildImageOptions(\r\n    {\r\n      Common: '1-Common.PNG',\r\n      Uncommon: '2-Uncommon.PNG',\r\n      Rare: '3-Rare.PNG',\r\n      Distinguished: '4-Distinguished.PNG',\r\n      Legendary: '5-Legendary.PNG',\r\n    },\r\n    'Assault/Rank',\r\n    'Common',\r\n  ),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n});\r\n\r\nconst attack = Element({\r\n  id: 'attack-input',\r\n  label: 'Attack',\r\n  type: 'input',\r\n  initialValue: '0',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 84,\r\n    y: 138,\r\n    width: 675,\r\n    height: 975,\r\n    fontSize: 70,\r\n    fontFamily: 'Anton',\r\n    align: 'left',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n    _alternateFill: '#000000',\r\n    maxLength: 2,\r\n    uppercase: true,\r\n    sceneFunc: alternateSceneFunc,\r\n  },\r\n  onDraw: (el, els) => ({\r\n    ...el.konvaProps,\r\n    text: `ATK ${el.getIn(['konvaProps', 'text'])}`,\r\n    _alternateText: `<^>ATK<^> ${el.getIn(['konvaProps', 'text'])}`,\r\n  }),\r\n});\r\n\r\nconst defense = Element({\r\n  id: 'defense-input',\r\n  label: 'Defense',\r\n  type: 'input',\r\n  initialValue: '0',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 68,\r\n    y: 138,\r\n    width: 675,\r\n    height: 975,\r\n    fontSize: 70,\r\n    fontFamily: 'Anton',\r\n    align: 'right',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n    _alternateFill: '#000000',\r\n    maxLength: 2,\r\n    uppercase: true,\r\n    sceneFunc: alternateSceneFunc,\r\n  },\r\n  onDraw: (el, els) => ({\r\n    ...el.konvaProps,\r\n    text: `${el.getIn(['konvaProps', 'text'])} DEF`,\r\n    _alternateText: `${el.getIn(['konvaProps', 'text'])} <^>DEF<^>`,\r\n  }),\r\n});\r\n\r\nconst classField = Element({\r\n  id: 'class-select',\r\n  label: 'Class',\r\n  type: 'select',\r\n  options: [\r\n    { label: 'Civilian', value: 'CIVILIAN' },\r\n    { label: 'Government', value: 'GOVERNMENT' },\r\n    { label: 'Military', value: 'MILITARY' },\r\n  ],\r\n  initialValue: 'CIVILIAN',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 282,\r\n    y: 563,\r\n    width: 261,\r\n    height: 80,\r\n    fontSize: 44,\r\n    fontFamily: 'ShareBold',\r\n    align: 'center',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n    stroke: '#000000',\r\n    strokeWidth: 4,\r\n  },\r\n});\r\n\r\nconst code = Element({\r\n  id: 'code-input',\r\n  label: 'Code',\r\n  type: 'input',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 75,\r\n    y: 153,\r\n    width: 675,\r\n    height: 975,\r\n    fontSize: 32,\r\n    fontFamily: 'ShareTechMono',\r\n    align: 'center',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#ffb700',\r\n    stroke: '#000000',\r\n    strokeWidth: 4,\r\n    maxLength: 14,\r\n    uppercase: true,\r\n    invalidRegex: /[^A-Z\\d]/g,\r\n  },\r\n});\r\n\r\nconst fieldStatus = Element({\r\n  id: 'field-status-image',\r\n  label: 'Field Status',\r\n  type: 'imageSelect',\r\n  ...buildImageOptions(\r\n    {\r\n      Frontline: 'Frontline.PNG',\r\n      Range: 'Range.PNG',\r\n    },\r\n    'Assault/Field Status',\r\n    'Frontline',\r\n  ),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n});\r\n\r\nconst type = Element({\r\n  id: 'type-image',\r\n  label: 'Type',\r\n  type: 'imageSelect',\r\n  ...buildImageOptions(\r\n    {\r\n      Air: 'Air.PNG',\r\n      Defense: 'Defense.PNG',\r\n      Land: 'Land.PNG',\r\n      Personnel: 'Personnel.PNG',\r\n      Sea: 'Sea.PNG',\r\n      Specialty: 'Specialty.PNG',\r\n      Structure: 'Structure.PNG',\r\n    },\r\n    'Assault/Card Types',\r\n    'Air',\r\n  ),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n});\r\n\r\nconst transportFee = Element({\r\n  id: 'transport-fee-image',\r\n  label: 'Transport Fee',\r\n  type: 'imageSelect',\r\n  ...buildImageOptions(\r\n    {\r\n      'No Transport Fee': 'No Transport.PNG',\r\n      '0 Transport Fee': '0 Transport.PNG',\r\n      '1 Transport Fee': '1 Transport.PNG',\r\n      '2 Transport Fee': '2 Transport.PNG',\r\n      '3 Transport Fee': '3 Transport.PNG',\r\n      '4 Transport Fee': '4 Transport.PNG',\r\n      '5 Transport Fee': '5 Transport.PNG',\r\n    },\r\n    'Assault/Transport Fees',\r\n    '0 Transport Fee',\r\n  ),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n});\r\n\r\nconst rapidDeployment = Element({\r\n  id: 'rapid-deployment-select',\r\n  label: 'Rapid Deployment',\r\n  type: 'select',\r\n  options: [\r\n    { label: 'Yes', value: 'Yes' },\r\n    { label: 'No', value: 'No' },\r\n  ],\r\n  initialValue: 'Yes',\r\n  hidden: true,\r\n});\r\n\r\nconst rapidDeploymentIcon = Element({\r\n  id: 'rapid-deployment-image-no',\r\n  type: 'imageStatic',\r\n  initialValue: require('../images/Assault/Rapid Deployment/NO Rapid Deployment.PNG'),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n  hidden: (el, els) => {\r\n    const rapidDeploymentEl = els.find(\r\n      (el) => el.id === 'rapid-deployment-select',\r\n    );\r\n    return rapidDeploymentEl\r\n      ? rapidDeploymentEl.getIn(['konvaProps', 'text']) !== 'No'\r\n      : false;\r\n  },\r\n  disabled: true,\r\n});\r\n\r\nconst rapidDeploymentFee = Element({\r\n  id: 'rapid-deployment-fee-input',\r\n  label: 'Rapid Deployment Fee',\r\n  type: 'input',\r\n  initialValue: '3',\r\n  hidden: (el, els) => {\r\n    const rapidDeploymentEl = els.find(\r\n      (el) => el.id === 'rapid-deployment-select',\r\n    );\r\n    return rapidDeploymentEl\r\n      ? rapidDeploymentEl.getIn(['konvaProps', 'text']) === 'No'\r\n      : true;\r\n  },\r\n  disabled: (el, els) => {\r\n    const rapidDeploymentEl = els.find(\r\n      (el) => el.id === 'rapid-deployment-select',\r\n    );\r\n    return rapidDeploymentEl\r\n      ? rapidDeploymentEl.getIn(['konvaProps', 'text']) === 'No'\r\n      : true;\r\n  },\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 76,\r\n    y: 912,\r\n    width: 86,\r\n    height: 130,\r\n    fontSize: 70,\r\n    fontFamily: 'Anton',\r\n    align: 'center',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n    maxLength: 2,\r\n    invalidRegex: /[^\\d]/g,\r\n  },\r\n});\r\n\r\nconst strength = Element({\r\n  id: 'strength-select',\r\n  label: 'Strength',\r\n  type: 'select',\r\n  options: [\r\n    { label: '0', value: '0' },\r\n    { label: '1', value: '1' },\r\n    { label: '2', value: '2' },\r\n    { label: '3', value: '3' },\r\n    { label: '4', value: '4' },\r\n    { label: '5', value: '5' },\r\n    { label: '6', value: '6' },\r\n    { label: '7', value: '7' },\r\n    { label: '8', value: '8' },\r\n    { label: '9', value: '9' },\r\n  ],\r\n  initialValue: '0',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 658,\r\n    y: 214,\r\n    width: 675,\r\n    height: 975,\r\n    fontSize: 50,\r\n    fontFamily: 'ShareBold',\r\n    align: 'left',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#247de3',\r\n    opacity: 0.8046875,\r\n  },\r\n});\r\n\r\nconst strengthType = Element({\r\n  id: 'strength-type-image-image',\r\n  label: 'Strength Type',\r\n  type: 'imageSelect',\r\n  ...buildImageOptions(\r\n    {\r\n      Air: 'S-Air.PNG',\r\n      Apocalypse: 'S-Apocalypse.PNG',\r\n      Defense: 'S-Defense.PNG',\r\n      Elite: 'S-Elite.PNG',\r\n      Land: 'S-Land.PNG',\r\n      Personnel: 'S-Personnel.PNG',\r\n      Sea: 'S-Sea.PNG',\r\n      Specialty: 'S-Specialty.PNG',\r\n      Structure: 'S-Structure.PNG',\r\n    },\r\n    'Assault/Strength Types',\r\n    'Air',\r\n  ),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n});\r\n\r\nconst weakness = Element({\r\n  id: 'weakness-select',\r\n  label: 'Weakness',\r\n  type: 'select',\r\n  options: [\r\n    { label: '0', value: '0' },\r\n    { label: '1', value: '1' },\r\n    { label: '2', value: '2' },\r\n    { label: '3', value: '3' },\r\n    { label: '4', value: '4' },\r\n    { label: '5', value: '5' },\r\n    { label: '6', value: '6' },\r\n    { label: '7', value: '7' },\r\n    { label: '8', value: '8' },\r\n    { label: '9', value: '9' },\r\n  ],\r\n  initialValue: '0',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 658,\r\n    y: 302,\r\n    width: 675,\r\n    height: 975,\r\n    fontSize: 50,\r\n    fontFamily: 'ShareBold',\r\n    align: 'left',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#ff0000',\r\n  },\r\n});\r\n\r\nconst weaknessType = Element({\r\n  id: 'weakness-type-image',\r\n  label: 'Weakness Type',\r\n  type: 'imageSelect',\r\n  ...buildImageOptions(\r\n    {\r\n      Air: 'W-Air.PNG',\r\n      Apocalypse: 'W-Apocalypse.PNG',\r\n      Defense: 'W-Defense.PNG',\r\n      Elite: 'W-Elite.PNG',\r\n      Land: 'W-Land.PNG',\r\n      Personnel: 'W-Personnel.PNG',\r\n      Sea: 'W-Sea.PNG',\r\n      Specialty: 'W-Specialty.PNG',\r\n      Structure: 'W-Structure.PNG',\r\n    },\r\n    'Assault/Weakness Types',\r\n    'Air',\r\n  ),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n});\r\n\r\nconst requirement = Element({\r\n  id: 'requirement-textarea',\r\n  label: 'Requirement Text',\r\n  type: 'textarea',\r\n  hidden: true,\r\n  disabled: (el, els) => {\r\n    const effectTypeEl = els.find((el) => el.id === 'type-image');\r\n    const imgSrc = effectTypeEl.getIn(['konvaProps', 'image'], {}).src;\r\n    const specialtyOption = effectTypeEl\r\n      .get('options', [])\r\n      .find((o) => o.label === 'Specialty');\r\n    return (\r\n      !imgSrc ||\r\n      !specialtyOption ||\r\n      !specialtyOption.value.includes(imgSrc.slice(imgSrc.lastIndexOf('/') + 1))\r\n    );\r\n  },\r\n});\r\n\r\nconst effectType = Element({\r\n  id: 'effect-type-select',\r\n  label: 'Effect Type',\r\n  type: 'select',\r\n  options: [\r\n    { label: 'Effect', value: 'EFFECT' },\r\n    { label: 'Ambush', value: 'AMBUSH' },\r\n  ],\r\n  initialValue: 'EFFECT',\r\n  hidden: true,\r\n});\r\n\r\nconst effect = Element({\r\n  id: 'effect-textarea',\r\n  label: 'Effect Text',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 180,\r\n    y: 705,\r\n    width: 440,\r\n    height: 170,\r\n    fontSize: 26,\r\n    fontFamily: 'Roboto',\r\n    align: 'left',\r\n    verticalAlign: 'top',\r\n    fill: '#ffffff',\r\n    stroke: '#000000',\r\n    strokeWidth: 3,\r\n    _alternateFill: '#ff0000',\r\n    sceneFunc: alternateSceneFunc,\r\n  },\r\n  onDraw: (el, els) => {\r\n    const reqTextEl = els.find((e) => e.id === 'requirement-textarea');\r\n    const effectTypeEl = els.find((e) => e.id === 'effect-type-select');\r\n    const reqText =\r\n      reqTextEl && !reqTextEl.disabled(el, els)\r\n        ? reqTextEl.getIn(['konvaProps', 'text'])\r\n        : null;\r\n    const effectType = effectTypeEl\r\n      ? effectTypeEl.getIn(['konvaProps', 'text'])\r\n      : null;\r\n    const effectText = el.getIn(['konvaProps', 'text']);\r\n    return {\r\n      ...el.konvaProps,\r\n      text: [\r\n        reqText ? `REQUIREMENT: ${reqText}` : null,\r\n        effectType && effectText ? `${effectType}: ${effectText}` : null,\r\n      ]\r\n        .filter(Boolean)\r\n        .join('\\n\\n'),\r\n      _alternateText: [\r\n        reqText ? `<^>REQUIREMENT:<^> ${reqText}` : null,\r\n        effectType && effectText\r\n          ? `${\r\n              effectType === 'AMBUSH'\r\n                ? `<^>${effectType}:<^>`\r\n                : `${effectType}:`\r\n            } ${effectText}`\r\n          : null,\r\n      ]\r\n        .filter(Boolean)\r\n        .join('\\n\\n'),\r\n    };\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst flavor = Element({\r\n  id: 'flavor-textarea',\r\n  label: 'Flavor Text',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 172,\r\n    y: 900,\r\n    width: 580,\r\n    height: 100,\r\n    fontSize: 20,\r\n    fontFamily: 'CormorantInfantMediumItalic',\r\n    align: 'left',\r\n    verticalAlign: 'bottom',\r\n    fill: '#ffffff',\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst creditsBG = Element({\r\n  id: 'credits-background',\r\n  type: 'shape-rect',\r\n  konvaProps: {\r\n    x: 0,\r\n    y: 1018,\r\n    width: 825,\r\n    height: 22,\r\n    fill: '#ff0000',\r\n    stroke: '#ffffff',\r\n    strokeWidth: 4,\r\n  },\r\n});\r\n\r\nconst credits = Element({\r\n  id: 'credits-textarea',\r\n  label: 'Credits',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 75,\r\n    y: 1019,\r\n    width: 675,\r\n    height: 20,\r\n    fontSize: 16.7,\r\n    fontFamily: 'ShareTechMono',\r\n    align: 'center',\r\n    verticalAlign: 'bottom',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n  },\r\n});\r\n\r\nexport default Map({\r\n  name: 'Assault',\r\n  elements: List([\r\n    template,\r\n    title,\r\n    graphic,\r\n    rank,\r\n    attack,\r\n    defense,\r\n    classField,\r\n    code,\r\n    fieldStatus,\r\n    type,\r\n    transportFee,\r\n    rapidDeployment,\r\n    rapidDeploymentIcon,\r\n    rapidDeploymentFee,\r\n    strength,\r\n    strengthType,\r\n    weakness,\r\n    weaknessType,\r\n    requirement,\r\n    effectType,\r\n    effect,\r\n    flavor,\r\n    creditsBG,\r\n    credits,\r\n  ]),\r\n});\r\n","import { Map, List } from 'immutable';\r\nimport { Element } from '../records';\r\nimport { onUpload, buildImageOptions, alternateSceneFunc } from './helpers';\r\n\r\n/** ELITE CARD ELEMENTS *******************************************************/\r\n\r\nconst template = Element({\r\n  id: 'template-image',\r\n  label: 'Template',\r\n  type: 'imageStatic',\r\n  initialValue: require('../images/Elite/Elite.png'),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n  drawOrder: 2,\r\n});\r\n\r\nconst title = Element({\r\n  id: 'title-input',\r\n  label: 'Title',\r\n  type: 'input',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 65,\r\n    y: 68,\r\n    width: 430,\r\n    height: 100,\r\n    fontSize: 70,\r\n    fontFamily: 'ShareBold',\r\n    align: 'right',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#9800BD',\r\n    uppercase: true,\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst graphic = Element({\r\n  id: 'main-image',\r\n  label: 'Graphic',\r\n  type: 'image',\r\n  onUpload: onUpload(),\r\n  drawOrder: 1,\r\n  editableProps: ['size', 'position'],\r\n});\r\n\r\nconst rank = Element({\r\n  id: 'rank-image',\r\n  label: 'Rank',\r\n  type: 'imageSelect',\r\n  ...buildImageOptions(\r\n    {\r\n      Common: '1-Common.PNG',\r\n      Uncommon: '2-Uncommon.PNG',\r\n      Rare: '3-Rare.PNG',\r\n      Distinguished: '4-Distinguished.PNG',\r\n      Legendary: '5-Legendary.PNG',\r\n    },\r\n    'Elite/Rank',\r\n    'Common',\r\n  ),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n});\r\n\r\nconst attack = Element({\r\n  id: 'attack-input',\r\n  label: 'Attack',\r\n  type: 'input',\r\n  initialValue: '0',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 84,\r\n    y: 138,\r\n    width: 675,\r\n    height: 975,\r\n    fontSize: 70,\r\n    fontFamily: 'Anton',\r\n    align: 'left',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n    _alternateFill: '#000000',\r\n    maxLength: 2,\r\n    uppercase: true,\r\n    sceneFunc: alternateSceneFunc,\r\n  },\r\n  onDraw: (el, els) => ({\r\n    ...el.konvaProps,\r\n    text: `ATK ${el.getIn(['konvaProps', 'text'])}`,\r\n    _alternateText: `<^>ATK<^> ${el.getIn(['konvaProps', 'text'])}`,\r\n  }),\r\n});\r\n\r\nconst defense = Element({\r\n  id: 'defense-input',\r\n  label: 'Defense',\r\n  type: 'input',\r\n  initialValue: '0',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 68,\r\n    y: 138,\r\n    width: 675,\r\n    height: 975,\r\n    fontSize: 70,\r\n    fontFamily: 'Anton',\r\n    align: 'right',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n    _alternateFill: '#000000',\r\n    maxLength: 2,\r\n    uppercase: true,\r\n    sceneFunc: alternateSceneFunc,\r\n  },\r\n  onDraw: (el, els) => ({\r\n    ...el.konvaProps,\r\n    text: `${el.getIn(['konvaProps', 'text'])} DEF`,\r\n    _alternateText: `${el.getIn(['konvaProps', 'text'])} <^>DEF<^>`,\r\n  }),\r\n});\r\n\r\nconst classField = Element({\r\n  id: 'class-select',\r\n  label: 'Class',\r\n  type: 'select',\r\n  options: [\r\n    { label: 'Civilian', value: 'CIVILIAN' },\r\n    { label: 'Government', value: 'GOVERNMENT' },\r\n    { label: 'Military', value: 'MILITARY' },\r\n  ],\r\n  initialValue: 'CIVILIAN',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 282,\r\n    y: 563,\r\n    width: 261,\r\n    height: 80,\r\n    fontSize: 44,\r\n    fontFamily: 'ShareBold',\r\n    align: 'center',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n    stroke: '#000000',\r\n    strokeWidth: 4,\r\n  },\r\n});\r\n\r\nconst code = Element({\r\n  id: 'code-input',\r\n  label: 'Code',\r\n  type: 'input',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 75,\r\n    y: 153,\r\n    width: 675,\r\n    height: 975,\r\n    fontSize: 32,\r\n    fontFamily: 'ShareTechMono',\r\n    align: 'center',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#1D82E7',\r\n    stroke: '#000000',\r\n    strokeWidth: 4,\r\n    maxLength: 14,\r\n    uppercase: true,\r\n    invalidRegex: /[^A-Z\\d]/g,\r\n  },\r\n});\r\n\r\nconst fieldStatus = Element({\r\n  id: 'field-status-image',\r\n  label: 'Field Status',\r\n  type: 'imageSelect',\r\n  ...buildImageOptions(\r\n    {\r\n      Frontline: 'Frontline.PNG',\r\n      Range: 'Range.PNG',\r\n    },\r\n    'Elite/Field Status',\r\n    'Frontline',\r\n  ),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n});\r\n\r\nconst transportFee = Element({\r\n  id: 'transport-fee-image',\r\n  label: 'Transport Fee',\r\n  type: 'imageSelect',\r\n  ...buildImageOptions(\r\n    {\r\n      'No Transport Fee': 'No Transport.PNG',\r\n      '0 Transport Fee': '0 Transport.PNG',\r\n      '1 Transport Fee': '1 Transport.PNG',\r\n      '2 Transport Fee': '2 Transport.PNG',\r\n      '3 Transport Fee': '3 Transport.PNG',\r\n      '4 Transport Fee': '4 Transport.PNG',\r\n      '5 Transport Fee': '5 Transport.PNG',\r\n    },\r\n    'Elite/Transport Fees',\r\n    '0 Transport Fee',\r\n  ),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n});\r\n\r\nconst rapidDeployment = Element({\r\n  id: 'rapid-deployment-select',\r\n  label: 'Rapid Deployment',\r\n  type: 'select',\r\n  options: [\r\n    { label: 'Yes', value: 'Yes' },\r\n    { label: 'No', value: 'No' },\r\n  ],\r\n  initialValue: 'Yes',\r\n  hidden: true,\r\n});\r\n\r\nconst rapidDeploymentIcon = Element({\r\n  id: 'rapid-deployment-image-no',\r\n  type: 'imageStatic',\r\n  initialValue: require('../images/Elite/Rapid Deployment/NO Rapid Deployment.PNG'),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n  hidden: (el, els) => {\r\n    const rapidDeploymentEl = els.find(\r\n      (el) => el.id === 'rapid-deployment-select',\r\n    );\r\n    return rapidDeploymentEl\r\n      ? rapidDeploymentEl.getIn(['konvaProps', 'text']) !== 'No'\r\n      : false;\r\n  },\r\n  disabled: true,\r\n});\r\n\r\nconst rapidDeploymentFee = Element({\r\n  id: 'rapid-deployment-fee-input',\r\n  label: 'Rapid Deployment Fee',\r\n  type: 'input',\r\n  initialValue: '3',\r\n  hidden: (el, els) => {\r\n    const rapidDeploymentEl = els.find(\r\n      (el) => el.id === 'rapid-deployment-select',\r\n    );\r\n    return rapidDeploymentEl\r\n      ? rapidDeploymentEl.getIn(['konvaProps', 'text']) === 'No'\r\n      : true;\r\n  },\r\n  disabled: (el, els) => {\r\n    const rapidDeploymentEl = els.find(\r\n      (el) => el.id === 'rapid-deployment-select',\r\n    );\r\n    return rapidDeploymentEl\r\n      ? rapidDeploymentEl.getIn(['konvaProps', 'text']) === 'No'\r\n      : true;\r\n  },\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 76,\r\n    y: 912,\r\n    width: 86,\r\n    height: 130,\r\n    fontSize: 70,\r\n    fontFamily: 'Anton',\r\n    align: 'center',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n    maxLength: 2,\r\n    invalidRegex: /[^\\d]/g,\r\n  },\r\n});\r\n\r\nconst effectType = Element({\r\n  id: 'effect-type-select',\r\n  label: 'Effect Type',\r\n  type: 'select',\r\n  options: [\r\n    { label: 'Effect', value: 'EFFECT' },\r\n    { label: 'Ambush', value: 'AMBUSH' },\r\n  ],\r\n  initialValue: 'EFFECT',\r\n  hidden: true,\r\n});\r\n\r\nconst effect = Element({\r\n  id: 'effect-textarea',\r\n  label: 'Effect Text',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 180,\r\n    y: 705,\r\n    width: 540,\r\n    height: 170,\r\n    fontSize: 26,\r\n    fontFamily: 'Roboto',\r\n    align: 'left',\r\n    verticalAlign: 'top',\r\n    fill: '#ffffff',\r\n    stroke: '#000000',\r\n    strokeWidth: 3,\r\n    _alternateFill: '#ff0000',\r\n    sceneFunc: alternateSceneFunc,\r\n  },\r\n  onDraw: (el, els) => {\r\n    const effectTypeEl = els.find((e) => e.id === 'effect-type-select');\r\n    const effectType = effectTypeEl\r\n      ? effectTypeEl.getIn(['konvaProps', 'text'])\r\n      : null;\r\n    const effectText = el.getIn(['konvaProps', 'text']);\r\n    return {\r\n      ...el.konvaProps,\r\n      text: effectType && effectText ? `${effectType}: ${effectText}` : '',\r\n      _alternateText:\r\n        effectType && effectText\r\n          ? `${\r\n              effectType === 'AMBUSH'\r\n                ? `<^>${effectType}:<^>`\r\n                : `${effectType}:`\r\n            } ${effectText}`\r\n          : '',\r\n    };\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst flavor = Element({\r\n  id: 'flavor-textarea',\r\n  label: 'Flavor Text',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 172,\r\n    y: 900,\r\n    width: 580,\r\n    height: 100,\r\n    fontSize: 20,\r\n    fontFamily: 'CormorantInfantMediumItalic',\r\n    align: 'left',\r\n    verticalAlign: 'bottom',\r\n    fill: '#ffffff',\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst creditsBG = Element({\r\n  id: 'credits-background',\r\n  type: 'shape-rect',\r\n  konvaProps: {\r\n    x: 0,\r\n    y: 1018,\r\n    width: 825,\r\n    height: 22,\r\n    fill: '#ff0000',\r\n    stroke: '#9800BD',\r\n    strokeWidth: 4,\r\n  },\r\n});\r\n\r\nconst credits = Element({\r\n  id: 'credits-textarea',\r\n  label: 'Credits',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 75,\r\n    y: 1019,\r\n    width: 675,\r\n    height: 20,\r\n    fontSize: 16.7,\r\n    fontFamily: 'ShareTechMono',\r\n    align: 'center',\r\n    verticalAlign: 'bottom',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n  },\r\n});\r\n\r\nexport default Map({\r\n  name: 'Elite',\r\n  elements: List([\r\n    template,\r\n    title,\r\n    graphic,\r\n    rank,\r\n    attack,\r\n    defense,\r\n    classField,\r\n    code,\r\n    fieldStatus,\r\n    transportFee,\r\n    rapidDeployment,\r\n    rapidDeploymentIcon,\r\n    rapidDeploymentFee,\r\n    effectType,\r\n    effect,\r\n    flavor,\r\n    creditsBG,\r\n    credits,\r\n  ]),\r\n});\r\n","import { Map, List } from 'immutable';\r\nimport { Element } from '../records';\r\nimport { onUpload, buildImageOptions } from './helpers';\r\n\r\n/** ENVIRONMENT CARD ELEMENTS *************************************************/\r\n\r\nconst template = Element({\r\n  id: 'template-image',\r\n  label: 'Template',\r\n  type: 'imageStatic',\r\n  initialValue: require('../images/Environment/Environment.png'),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n  drawOrder: 2,\r\n});\r\n\r\nconst title = Element({\r\n  id: 'title-input',\r\n  label: 'Title',\r\n  type: 'input',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 65,\r\n    y: 68,\r\n    width: 430,\r\n    height: 100,\r\n    fontSize: 70,\r\n    fontFamily: 'ShareBold',\r\n    align: 'right',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#00D65D',\r\n    uppercase: true,\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst graphic = Element({\r\n  id: 'main-image',\r\n  label: 'Graphic',\r\n  type: 'image',\r\n  onUpload: onUpload(),\r\n  drawOrder: 1,\r\n  editableProps: ['size', 'position'],\r\n});\r\n\r\nconst rank = Element({\r\n  id: 'rank-image',\r\n  label: 'Rank',\r\n  type: 'imageSelect',\r\n  ...buildImageOptions(\r\n    {\r\n      Common: '1-Common.PNG',\r\n      Uncommon: '2-Uncommon.PNG',\r\n      Rare: '3-Rare.PNG',\r\n      Distinguished: '4-Distinguished.PNG',\r\n      Legendary: '5-Legendary.PNG',\r\n    },\r\n    'Environment/Rank',\r\n    'Common',\r\n  ),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n});\r\n\r\nconst classField = Element({\r\n  id: 'class-select',\r\n  label: 'Class',\r\n  type: 'select',\r\n  options: [\r\n    { label: 'Earth', value: 'EARTH' },\r\n    { label: 'Fire', value: 'FIRE' },\r\n    { label: 'Ice', value: 'ICE' },\r\n    { label: 'Lunar', value: 'LUNAR' },\r\n    { label: 'Solar', value: 'SOLAR' },\r\n    { label: 'Water', value: 'WATER' },\r\n    { label: 'Wind', value: 'WIND' },\r\n  ],\r\n  initialValue: 'EARTH',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 270,\r\n    y: 240,\r\n    width: 685,\r\n    height: 975,\r\n    fontSize: 44,\r\n    fontFamily: 'ShareBold',\r\n    align: 'center',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#00D65D',\r\n    stroke: '#000000',\r\n    strokeWidth: 4,\r\n  },\r\n});\r\n\r\nconst code = Element({\r\n  id: 'code-input',\r\n  label: 'Code',\r\n  type: 'input',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 270,\r\n    y: 276,\r\n    width: 675,\r\n    height: 975,\r\n    fontSize: 32,\r\n    fontFamily: 'ShareTechMono',\r\n    align: 'center',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n    stroke: '#000000',\r\n    strokeWidth: 4,\r\n    maxLength: 14,\r\n    uppercase: true,\r\n    invalidRegex: /[^A-Z\\d]/g,\r\n  },\r\n});\r\n\r\nconst effect = Element({\r\n  id: 'effect-textarea',\r\n  label: 'Effect Text',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 90,\r\n    y: 800,\r\n    width: 660,\r\n    height: 120,\r\n    fontSize: 26,\r\n    fontFamily: 'Roboto',\r\n    align: 'left',\r\n    verticalAlign: 'top',\r\n    fill: '#ffffff',\r\n    stroke: '#000000',\r\n    strokeWidth: 3,\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst flavor = Element({\r\n  id: 'flavor-textarea',\r\n  label: 'Flavor Text',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 90,\r\n    y: 900,\r\n    width: 660,\r\n    height: 110,\r\n    fontSize: 20,\r\n    fontFamily: 'CormorantInfantMediumItalic',\r\n    align: 'left',\r\n    verticalAlign: 'bottom',\r\n    fill: '#ffffff',\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst creditsBG = Element({\r\n  id: 'credits-background',\r\n  type: 'shape-rect',\r\n  konvaProps: {\r\n    x: 0,\r\n    y: 1018,\r\n    width: 825,\r\n    height: 22,\r\n    fill: '#ff0000',\r\n    stroke: '#ffffff',\r\n    strokeWidth: 4,\r\n  },\r\n});\r\n\r\nconst credits = Element({\r\n  id: 'credits-textarea',\r\n  label: 'Credits',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 75,\r\n    y: 1019,\r\n    width: 675,\r\n    height: 20,\r\n    fontSize: 16.7,\r\n    fontFamily: 'ShareTechMono',\r\n    align: 'center',\r\n    verticalAlign: 'bottom',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n  },\r\n});\r\n\r\nexport default Map({\r\n  name: 'Environment',\r\n  elements: List([\r\n    template,\r\n    title,\r\n    graphic,\r\n    rank,\r\n    classField,\r\n    code,\r\n    effect,\r\n    flavor,\r\n    creditsBG,\r\n    credits,\r\n  ]),\r\n});\r\n","import { Map, List } from 'immutable';\r\nimport { Element } from '../records';\r\nimport { onUpload, buildImageOptions } from './helpers';\r\n\r\n/** GOVERNMENT CARD ELEMENTS **************************************************/\r\n\r\nconst template = Element({\r\n  id: 'template-image',\r\n  label: 'Template',\r\n  type: 'imageStatic',\r\n  initialValue: require('../images/Government/Government.png'),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n  drawOrder: 2,\r\n});\r\n\r\nconst title = Element({\r\n  id: 'title-input',\r\n  label: 'Title',\r\n  type: 'input',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 65,\r\n    y: 68,\r\n    width: 430,\r\n    height: 100,\r\n    fontSize: 70,\r\n    fontFamily: 'ShareBold',\r\n    align: 'right',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n    uppercase: true,\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst graphic = Element({\r\n  id: 'main-image',\r\n  label: 'Graphic',\r\n  type: 'image',\r\n  onUpload: onUpload(),\r\n  drawOrder: 1,\r\n  editableProps: ['size', 'position'],\r\n});\r\n\r\nconst rank = Element({\r\n  id: 'rank-image',\r\n  label: 'Rank',\r\n  type: 'imageSelect',\r\n  ...buildImageOptions(\r\n    {\r\n      Common: '1-Common.PNG',\r\n      Uncommon: '2-Uncommon.PNG',\r\n      Rare: '3-Rare.PNG',\r\n      Distinguished: '4-Distinguished.PNG',\r\n      Legendary: '5-Legendary.PNG',\r\n    },\r\n    'Government/Rank',\r\n    'Common',\r\n  ),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n});\r\n\r\nconst code = Element({\r\n  id: 'code-input',\r\n  label: 'Code',\r\n  type: 'input',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 78,\r\n    y: 756,\r\n    width: 250,\r\n    height: 50,\r\n    fontSize: 32,\r\n    fontFamily: 'ShareTechMono',\r\n    align: 'center',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#FF0000',\r\n    stroke: '#000000',\r\n    strokeWidth: 4,\r\n    maxLength: 14,\r\n    uppercase: true,\r\n    invalidRegex: /[^A-Z\\d]/g,\r\n  },\r\n});\r\n\r\nconst range = Element({\r\n  id: 'range-select',\r\n  label: 'Range',\r\n  type: 'select',\r\n  options: [\r\n    { label: '0', value: '0' },\r\n    { label: '1', value: '1' },\r\n    { label: '2', value: '2' },\r\n    { label: '3', value: '3' },\r\n    { label: '4', value: '4' },\r\n  ],\r\n  initialValue: '2',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 45,\r\n    y: 258,\r\n    width: 675,\r\n    height: 975,\r\n    fontSize: 60,\r\n    fontFamily: 'Anton',\r\n    align: 'center',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#000000',\r\n  },\r\n});\r\n\r\nconst frontline = Element({\r\n  id: 'frontline-select',\r\n  label: 'Frontline',\r\n  type: 'select',\r\n  options: [\r\n    { label: '0', value: '0' },\r\n    { label: '1', value: '1' },\r\n    { label: '2', value: '2' },\r\n    { label: '3', value: '3' },\r\n    { label: '4', value: '4' },\r\n    { label: '5', value: '5' },\r\n    { label: '6', value: '6' },\r\n    { label: '7', value: '7' },\r\n    { label: '8', value: '8' },\r\n  ],\r\n  initialValue: '4',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 152,\r\n    y: 258,\r\n    width: 675,\r\n    height: 975,\r\n    fontSize: 60,\r\n    fontFamily: 'Anton',\r\n    align: 'center',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#000000',\r\n  },\r\n});\r\n\r\nconst research = Element({\r\n  id: 'research-select',\r\n  label: 'Research',\r\n  type: 'select',\r\n  options: [\r\n    { label: '0', value: '0' },\r\n    { label: '1', value: '1' },\r\n    { label: '2', value: '2' },\r\n    { label: '3', value: '3' },\r\n    { label: '4', value: '4' },\r\n    { label: '5', value: '5' },\r\n    { label: '6', value: '6' },\r\n    { label: '7', value: '7' },\r\n    { label: '8', value: '8' },\r\n  ],\r\n  initialValue: '4',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 274,\r\n    y: 258,\r\n    width: 675,\r\n    height: 975,\r\n    fontSize: 60,\r\n    fontFamily: 'Anton',\r\n    align: 'center',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#000000',\r\n  },\r\n});\r\n\r\nconst bonus = Element({\r\n  id: 'bonus-select',\r\n  label: 'Bonus',\r\n  type: 'select',\r\n  options: [\r\n    { label: '-40', value: '-40' },\r\n    { label: '-20', value: '-20' },\r\n    { label: '0', value: '0' },\r\n    { label: '20', value: '20' },\r\n    { label: '40', value: '40' },\r\n  ],\r\n  initialValue: '0',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 374,\r\n    y: 258,\r\n    width: 675,\r\n    height: 975,\r\n    fontSize: 60,\r\n    fontFamily: 'Anton',\r\n    align: 'center',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#000000',\r\n  },\r\n  onDraw: (el, els) => ({\r\n    ...el.konvaProps,\r\n    fill:\r\n      el.getIn(['konvaProps', 'text']).indexOf('-') === 0\r\n        ? '#FF0000'\r\n        : '#000000',\r\n  }),\r\n});\r\n\r\nconst effect = Element({\r\n  id: 'effect-textarea',\r\n  label: 'Effect Text',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 90,\r\n    y: 830,\r\n    width: 660,\r\n    height: 78,\r\n    fontSize: 30,\r\n    fontFamily: 'Roboto',\r\n    align: 'left',\r\n    verticalAlign: 'top',\r\n    fill: '#ffffff',\r\n    stroke: '#000000',\r\n    strokeWidth: 3,\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst flavor = Element({\r\n  id: 'flavor-textarea',\r\n  label: 'Flavor Text',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 90,\r\n    y: 870,\r\n    width: 660,\r\n    height: 136,\r\n    fontSize: 20,\r\n    fontFamily: 'CormorantInfantMediumItalic',\r\n    align: 'left',\r\n    verticalAlign: 'bottom',\r\n    fill: '#ffffff',\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst creditsBG = Element({\r\n  id: 'credits-background',\r\n  type: 'shape-rect',\r\n  konvaProps: {\r\n    x: 0,\r\n    y: 1018,\r\n    width: 825,\r\n    height: 22,\r\n    fill: '#ff0000',\r\n    stroke: '#ffffff',\r\n    strokeWidth: 4,\r\n  },\r\n});\r\n\r\nconst credits = Element({\r\n  id: 'credits-textarea',\r\n  label: 'Credits',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 75,\r\n    y: 1019,\r\n    width: 675,\r\n    height: 20,\r\n    fontSize: 16.7,\r\n    fontFamily: 'ShareTechMono',\r\n    align: 'center',\r\n    verticalAlign: 'bottom',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n  },\r\n});\r\n\r\nexport default Map({\r\n  name: 'Government',\r\n  elements: List([\r\n    template,\r\n    title,\r\n    graphic,\r\n    rank,\r\n    code,\r\n    range,\r\n    frontline,\r\n    research,\r\n    bonus,\r\n    effect,\r\n    flavor,\r\n    creditsBG,\r\n    credits,\r\n  ]),\r\n});\r\n","import { Map, List } from 'immutable';\r\nimport { Element } from '../records';\r\nimport { onUpload, buildImageOptions } from './helpers';\r\n\r\n/** TECH CARD ELEMENTS ********************************************************/\r\n\r\nconst template = Element({\r\n  id: 'template-image',\r\n  label: 'Template',\r\n  type: 'imageStatic',\r\n  initialValue: require('../images/Tech/Tech.png'),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n  drawOrder: 2,\r\n});\r\n\r\nconst title = Element({\r\n  id: 'title-input',\r\n  label: 'Title',\r\n  type: 'input',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 65,\r\n    y: 68,\r\n    width: 430,\r\n    height: 100,\r\n    fontSize: 70,\r\n    fontFamily: 'ShareBold',\r\n    align: 'right',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#0080FF',\r\n    uppercase: true,\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst graphic = Element({\r\n  id: 'main-image',\r\n  label: 'Graphic',\r\n  type: 'image',\r\n  onUpload: onUpload(),\r\n  drawOrder: 1,\r\n  editableProps: ['size', 'position'],\r\n});\r\n\r\nconst rank = Element({\r\n  id: 'rank-image',\r\n  label: 'Rank',\r\n  type: 'imageSelect',\r\n  ...buildImageOptions(\r\n    {\r\n      Common: '1-Common.PNG',\r\n      Uncommon: '2-Uncommon.PNG',\r\n      Rare: '3-Rare.PNG',\r\n      Distinguished: '4-Distinguished.PNG',\r\n      Legendary: '5-Legendary.PNG',\r\n    },\r\n    'Tech/Rank',\r\n    'Common',\r\n  ),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n});\r\n\r\nconst classField = Element({\r\n  id: 'class-select',\r\n  label: 'Class',\r\n  type: 'select',\r\n  options: [\r\n    { label: 'Phenomena', value: 'PHENOMENA' },\r\n    { label: 'Position', value: 'POSITION' },\r\n    { label: 'Product', value: 'PRODUCT' },\r\n    { label: 'Regulation', value: 'REGULATION' },\r\n    { label: 'Service', value: 'SERVICE' },\r\n    { label: 'Technology', value: 'TECHNOLOGY' },\r\n    { label: 'Weapon', value: 'WEAPON' },\r\n  ],\r\n  initialValue: 'PHENOMENA',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 172,\r\n    y: 687,\r\n    width: 261,\r\n    height: 80,\r\n    fontSize: 44,\r\n    fontFamily: 'ShareBold',\r\n    align: 'center',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#00D65D',\r\n    stroke: '#000000',\r\n    strokeWidth: 4,\r\n  },\r\n});\r\n\r\nconst code = Element({\r\n  id: 'code-input',\r\n  label: 'Code',\r\n  type: 'input',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 166,\r\n    y: 723,\r\n    width: 261,\r\n    height: 80,\r\n    fontSize: 32,\r\n    fontFamily: 'ShareTechMono',\r\n    align: 'center',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#0080FF',\r\n    stroke: '#000000',\r\n    strokeWidth: 4,\r\n    maxLength: 14,\r\n    uppercase: true,\r\n    invalidRegex: /[^A-Z\\d]/g,\r\n  },\r\n});\r\n\r\nconst type = Element({\r\n  id: 'type-image',\r\n  label: 'Type',\r\n  type: 'imageSelect',\r\n  ...buildImageOptions(\r\n    {\r\n      Basic: 'T-Basic.PNG',\r\n      Extended: 'T-Extended.PNG',\r\n      Supply: 'T-Supply.PNG',\r\n      Response: 'T-Response.PNG',\r\n    },\r\n    'Tech/Card Types',\r\n    'Basic',\r\n  ),\r\n  onUpload: onUpload({ width: 825, height: 1125, y: -2 }),\r\n});\r\n\r\nconst marketValue = Element({\r\n  id: 'market-value-select',\r\n  label: 'Market Value',\r\n  type: 'select',\r\n  options: [\r\n    { label: '0', value: '0' },\r\n    { label: '1', value: '1' },\r\n    { label: '2', value: '2' },\r\n    { label: '3', value: '3' },\r\n    { label: '4', value: '4' },\r\n    { label: '5', value: '5' },\r\n  ],\r\n  initialValue: '0',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 375,\r\n    y: 701,\r\n    width: 100,\r\n    height: 80,\r\n    fontSize: 44,\r\n    fontFamily: 'ShareBold',\r\n    align: 'right',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n  },\r\n});\r\n\r\nconst effect = Element({\r\n  id: 'effect-textarea',\r\n  label: 'Effect Text',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 175,\r\n    y: 782,\r\n    width: 580,\r\n    height: 120,\r\n    fontSize: 30,\r\n    fontFamily: 'Roboto',\r\n    align: 'left',\r\n    verticalAlign: 'top',\r\n    fill: '#ffffff',\r\n    stroke: '#000000',\r\n    strokeWidth: 3,\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst flavor = Element({\r\n  id: 'flavor-textarea',\r\n  label: 'Flavor Text',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 90,\r\n    y: 900,\r\n    width: 660,\r\n    height: 110,\r\n    fontSize: 20,\r\n    fontFamily: 'CormorantInfantMediumItalic',\r\n    align: 'left',\r\n    verticalAlign: 'bottom',\r\n    fill: '#ffffff',\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst creditsBG = Element({\r\n  id: 'credits-background',\r\n  type: 'shape-rect',\r\n  konvaProps: {\r\n    x: 0,\r\n    y: 1018,\r\n    width: 825,\r\n    height: 22,\r\n    fill: '#ff0000',\r\n    stroke: '#ffffff',\r\n    strokeWidth: 4,\r\n  },\r\n});\r\n\r\nconst credits = Element({\r\n  id: 'credits-textarea',\r\n  label: 'Credits',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 75,\r\n    y: 1019,\r\n    width: 675,\r\n    height: 20,\r\n    fontSize: 16.7,\r\n    fontFamily: 'ShareTechMono',\r\n    align: 'center',\r\n    verticalAlign: 'bottom',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n  },\r\n});\r\n\r\nexport default Map({\r\n  name: 'Tech',\r\n  elements: List([\r\n    template,\r\n    title,\r\n    graphic,\r\n    rank,\r\n    classField,\r\n    code,\r\n    type,\r\n    marketValue,\r\n    effect,\r\n    flavor,\r\n    creditsBG,\r\n    credits,\r\n  ]),\r\n});\r\n","import { Map, List } from 'immutable';\r\nimport { Element } from '../records';\r\nimport { onUpload, buildImageOptions } from './helpers';\r\n\r\n/** WAR CARD ELEMENTS *********************************************************/\r\n\r\nconst template = Element({\r\n  id: 'template-image',\r\n  label: 'Template',\r\n  type: 'imageStatic',\r\n  initialValue: require('../images/War/War.png'),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n  drawOrder: 2,\r\n});\r\n\r\nconst title = Element({\r\n  id: 'title-input',\r\n  label: 'Title',\r\n  type: 'input',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 65,\r\n    y: 68,\r\n    width: 430,\r\n    height: 100,\r\n    fontSize: 70,\r\n    fontFamily: 'ShareBold',\r\n    align: 'right',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#FF0000',\r\n    uppercase: true,\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst graphic = Element({\r\n  id: 'main-image',\r\n  label: 'Graphic',\r\n  type: 'image',\r\n  onUpload: onUpload(),\r\n  drawOrder: 1,\r\n  editableProps: ['size', 'position'],\r\n});\r\n\r\nconst rank = Element({\r\n  id: 'rank-image',\r\n  label: 'Rank',\r\n  type: 'imageSelect',\r\n  ...buildImageOptions(\r\n    {\r\n      Common: '1-Common.PNG',\r\n      Uncommon: '2-Uncommon.PNG',\r\n      Rare: '3-Rare.PNG',\r\n      Distinguished: '4-Distinguished.PNG',\r\n      Legendary: '5-Legendary.PNG',\r\n    },\r\n    'War/Rank',\r\n    'Common',\r\n  ),\r\n  onUpload: onUpload({ width: 825, height: 1125 }),\r\n});\r\n\r\nconst classField = Element({\r\n  id: 'class-select',\r\n  label: 'Class',\r\n  type: 'select',\r\n  options: [\r\n    { label: 'Condition', value: 'CONDITION' },\r\n    { label: 'Event', value: 'EVENT' },\r\n    { label: 'Fraud', value: 'FRAUD' },\r\n    { label: 'Phenomena', value: 'PHENOMENA' },\r\n    { label: 'Position', value: 'POSITION' },\r\n    { label: 'Product', value: 'PRODUCT' },\r\n    { label: 'Regulation', value: 'REGULATION' },\r\n    { label: 'Technology', value: 'TECHNOLOGY' },\r\n    { label: 'Weapon', value: 'WEAPON' },\r\n  ],\r\n  initialValue: 'CONDITION',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 172,\r\n    y: 687,\r\n    width: 261,\r\n    height: 80,\r\n    fontSize: 44,\r\n    fontFamily: 'ShareBold',\r\n    align: 'center',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#EBB400',\r\n    stroke: '#000000',\r\n    strokeWidth: 4,\r\n  },\r\n});\r\n\r\nconst code = Element({\r\n  id: 'code-input',\r\n  label: 'Code',\r\n  type: 'input',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 166,\r\n    y: 723,\r\n    width: 261,\r\n    height: 80,\r\n    fontSize: 32,\r\n    fontFamily: 'ShareTechMono',\r\n    align: 'center',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#FF0000',\r\n    stroke: '#000000',\r\n    strokeWidth: 4,\r\n    maxLength: 14,\r\n    uppercase: true,\r\n    invalidRegex: /[^A-Z\\d]/g,\r\n  },\r\n});\r\n\r\nconst type = Element({\r\n  id: 'type-image',\r\n  label: 'Type',\r\n  type: 'imageSelect',\r\n  ...buildImageOptions(\r\n    {\r\n      Basic: 'W-Basic.PNG',\r\n      Extended: 'W-Extended.PNG',\r\n    },\r\n    'War/Card Types',\r\n    'Basic',\r\n  ),\r\n  onUpload: onUpload({ width: 825, height: 1125, y: -2 }),\r\n});\r\n\r\nconst collateral = Element({\r\n  id: 'collateral-select',\r\n  label: 'Collateral',\r\n  type: 'select',\r\n  options: [\r\n    { label: '10', value: '10' },\r\n    { label: '15', value: '15' },\r\n    { label: '20', value: '20' },\r\n    { label: '25', value: '25' },\r\n    { label: '30', value: '30' },\r\n  ],\r\n  initialValue: '20',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 405,\r\n    y: 701,\r\n    width: 100,\r\n    height: 80,\r\n    fontSize: 44,\r\n    fontFamily: 'ShareBold',\r\n    align: 'right',\r\n    verticalAlign: 'middle',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n  },\r\n});\r\n\r\nconst effect = Element({\r\n  id: 'effect-textarea',\r\n  label: 'Effect Text',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 175,\r\n    y: 782,\r\n    width: 580,\r\n    height: 120,\r\n    fontSize: 30,\r\n    fontFamily: 'Roboto',\r\n    align: 'left',\r\n    verticalAlign: 'top',\r\n    fill: '#ffffff',\r\n    stroke: '#000000',\r\n    strokeWidth: 3,\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst flavor = Element({\r\n  id: 'flavor-textarea',\r\n  label: 'Flavor Text',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 90,\r\n    y: 900,\r\n    width: 660,\r\n    height: 110,\r\n    fontSize: 20,\r\n    fontFamily: 'CormorantInfantMediumItalic',\r\n    align: 'left',\r\n    verticalAlign: 'bottom',\r\n    fill: '#ffffff',\r\n  },\r\n  editableProps: ['fontSize'],\r\n});\r\n\r\nconst creditsBG = Element({\r\n  id: 'credits-background',\r\n  type: 'shape-rect',\r\n  konvaProps: {\r\n    x: 0,\r\n    y: 1018,\r\n    width: 825,\r\n    height: 22,\r\n    fill: '#ff0000',\r\n    stroke: '#ffffff',\r\n    strokeWidth: 4,\r\n  },\r\n});\r\n\r\nconst credits = Element({\r\n  id: 'credits-textarea',\r\n  label: 'Credits',\r\n  type: 'textarea',\r\n  konvaProps: {\r\n    _outline: false,\r\n    x: 75,\r\n    y: 1019,\r\n    width: 675,\r\n    height: 20,\r\n    fontSize: 16.7,\r\n    fontFamily: 'ShareTechMono',\r\n    align: 'center',\r\n    verticalAlign: 'bottom',\r\n    wrap: 'none',\r\n    fill: '#ffffff',\r\n  },\r\n});\r\n\r\nexport default Map({\r\n  name: 'War',\r\n  elements: List([\r\n    template,\r\n    title,\r\n    graphic,\r\n    rank,\r\n    classField,\r\n    code,\r\n    type,\r\n    collateral,\r\n    effect,\r\n    flavor,\r\n    creditsBG,\r\n    credits,\r\n  ]),\r\n});\r\n","import { List } from 'immutable';\r\nimport apocalypse from './apocalypse';\r\nimport assault from './assault';\r\nimport elite from './elite';\r\nimport environment from './environment';\r\nimport government from './government';\r\nimport tech from './tech';\r\nimport war from './war';\r\n\r\nexport default List([\r\n  apocalypse,\r\n  assault,\r\n  elite,\r\n  environment,\r\n  government,\r\n  tech,\r\n  war,\r\n]);\r\n","import React from 'react';\nimport WebFont from 'webfontloader';\nimport { compose, withState, withHandlers, lifecycle } from 'recompose';\nimport { Stage, Layer, Image, Text, Rect } from 'react-konva';\nimport { validateElement } from './utils';\nimport CARDS from './cards/index';\n\nconst inIframe = window.location !== window.parent.location;\n\nconst NumberInput = compose(\n  withState('val', 'setVal', ({ value, defaultValue }) =>\n    value === 0 ? 0 : value || defaultValue || '',\n  ),\n  withHandlers({\n    changeVal: ({\n      val,\n      setVal,\n      value,\n      onChange,\n      min = -Infinity,\n      max = Infinity,\n      float = false,\n    }) => (intermediate = true) => (e) => {\n      const currentValue = float\n        ? e.target.value\n            .replace(/-/g, (c, i, t) => (i === 0 ? c : ''))\n            .replace(/\\./g, (c, i, t) => (t.indexOf(c) === i ? c : ''))\n            .replace(/[^\\d.-]/g, '')\n        : e.target.value\n            .replace(/-/g, (c, i, t) => (i === 0 ? c : ''))\n            .replace(/[^\\d-]/g, '');\n      const parsedValue = float\n        ? parseFloat(currentValue)\n        : parseInt(currentValue);\n      const newValue = Math.max(Math.min(parsedValue, max), min);\n\n      if (intermediate) {\n        setVal(currentValue);\n        if (newValue.toString() === currentValue) {\n          onChange(newValue);\n        }\n      } else {\n        if (!!parsedValue || parsedValue === 0) {\n          setVal(newValue);\n          onChange(newValue);\n        } else {\n          setVal(value);\n        }\n      }\n    },\n  }),\n  lifecycle({\n    componentDidUpdate(prev) {\n      if (\n        this.props.value !== prev.value &&\n        this.props.value.toString() !== this.props.val.toString()\n      ) {\n        this.props.setVal(this.props.value);\n      }\n    },\n  }),\n)((props) => (\n  <input\n    type=\"text\"\n    value={props.val}\n    onChange={props.changeVal(true)}\n    onBlur={props.changeVal(false)}\n    className={props.className || 'form-control'}\n  />\n));\n\nconst DisplayElement = compose(\n  lifecycle({\n    // TODO need to check related elements\n    // shouldComponentUpdate(nextProps) {\n    //   return !is(\n    //     fromJS(this.props.el.konvaProps),\n    //     fromJS(nextProps.el.konvaProps),\n    //   );\n    // },\n  }),\n)(({ elements, el }) => {\n  const { stroke, ...konvaProps } = el.onDraw(el, elements);\n  if (\n    typeof el.hidden === 'function' ? !!el.hidden(el, elements) : !!el.hidden\n  ) {\n    return null;\n  } else if (\n    el.type === 'image' ||\n    el.type === 'imageSelect' ||\n    el.type === 'imageStatic'\n  ) {\n    return <Image {...konvaProps} />;\n  } else if (\n    el.type === 'input' ||\n    el.type === 'select' ||\n    el.type === 'textarea'\n  ) {\n    return (\n      <>\n        {konvaProps._outline && (\n          <Rect\n            x={konvaProps.x}\n            y={konvaProps.y}\n            width={konvaProps.width}\n            height={konvaProps.height}\n            stroke={'white'}\n            strokeWidth={1.5}\n            shadowColor={'black'}\n            shadowBlur={2.5}\n          ></Rect>\n        )}\n        {stroke && <Text {...konvaProps} stroke={stroke}></Text>}\n        <Text {...konvaProps}></Text>\n      </>\n    );\n  } else if (el.type === 'shape-rect') {\n    return (\n      <>\n        {stroke && <Rect {...konvaProps} stroke={stroke}></Rect>}\n        <Rect {...konvaProps} />\n      </>\n    );\n  } else {\n    return null;\n  }\n});\n\nconst EditableElements = ({ index, el, ...props }) => {\n  if (!Array.isArray(el.editableProps)) {\n    return null;\n  }\n  return el.editableProps.map((editable) => {\n    if (editable === 'size') {\n      return el.konvaProps.image ? (\n        <div className=\"d-flex align-items-center\" key={editable}>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <div className=\"input-group-text\">Width</div>\n            </div>\n            <NumberInput\n              value={el.konvaProps.width}\n              onChange={props.onSizeChange(index, 'width')}\n              min={0}\n              float={true}\n            />\n            <div className=\"input-group-append\">\n              <div className=\"input-group-text\">px</div>\n            </div>\n          </div>\n          <span className=\"fa fa-fw fa-link mx-2\"></span>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <div className=\"input-group-text\">Height</div>\n            </div>\n            <NumberInput\n              value={el.konvaProps.height}\n              onChange={props.onSizeChange(index, 'height')}\n              min={0}\n              float={true}\n            />\n            <div className=\"input-group-append\">\n              <div className=\"input-group-text\">px</div>\n            </div>\n          </div>\n        </div>\n      ) : null;\n    } else if (editable === 'position') {\n      return el.konvaProps.image ? (\n        <div className=\"d-flex align-items-center\" key={editable}>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <div className=\"input-group-text\">X</div>\n            </div>\n            <NumberInput\n              value={el.konvaProps.x}\n              onChange={props.onPropChange(index, 'x')}\n              float={true}\n            />\n            <div className=\"input-group-append\">\n              <div className=\"input-group-text\">px</div>\n            </div>\n          </div>\n          <span className=\"mx-1\"></span>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <div className=\"input-group-text\">Y</div>\n            </div>\n            <NumberInput\n              value={el.konvaProps.y}\n              onChange={props.onPropChange(index, 'y')}\n              float={true}\n            />\n            <div className=\"input-group-append\">\n              <div className=\"input-group-text\">px</div>\n            </div>\n          </div>\n        </div>\n      ) : null;\n    } else if (editable === 'fontSize') {\n      return (\n        <div className=\"input-group\" key={editable}>\n          <div className=\"input-group-prepend\">\n            <div className=\"input-group-text\">Font Size</div>\n          </div>\n          <NumberInput\n            value={el.konvaProps.fontSize}\n            onChange={props.onPropChange(index, 'fontSize')}\n            min={1}\n            float={true}\n          />\n          <div className=\"input-group-append\">\n            <div className=\"input-group-text\">px</div>\n          </div>\n        </div>\n      );\n    } else if (editable === 'hidden') {\n      return (\n        <label htmlFor={`${el.id}-hidden`} key={editable}>\n          <input\n            id={`${el.id}-hidden`}\n            type=\"checkbox\"\n            checked={el.hidden}\n            onChange={props.toggleHidden(index)}\n          />\n          <span className=\"ml-2\">Hide</span>\n        </label>\n      );\n    } else {\n      return null;\n    }\n  });\n};\n\nconst FormElement = ({ index, elements, el, ...props }) => {\n  if (\n    typeof el.disabled === 'function'\n      ? !!el.disabled(el, elements)\n      : !!el.disabled\n  ) {\n    return null;\n  } else if (el.type === 'image') {\n    return (\n      <div className=\"form-group\" key={el.id}>\n        <label htmlFor={el.id}>{el.label}</label>\n        <input\n          type=\"file\"\n          id={el.id}\n          className=\"form-control-file\"\n          onChange={props.onFileInputChange(index)}\n        />\n        <EditableElements index={index} el={el} {...props} />\n      </div>\n    );\n  } else if (el.type === 'imageSelect') {\n    return (\n      <div className=\"form-group\" key={el.id}>\n        <label htmlFor={el.id}>{el.label}</label>\n        <select\n          id={el.id}\n          className=\"form-control\"\n          onChange={props.onImageSelectChange(index)}\n        >\n          {!el.initialValue && (\n            <option value={require('./images/blank.png')}></option>\n          )}\n          {el.options.map((o) => (\n            <option value={o.value} key={o.label}>\n              {o.label}\n            </option>\n          ))}\n        </select>\n        <EditableElements index={index} el={el} {...props} />\n      </div>\n    );\n  } else if (el.type === 'input') {\n    return (\n      <div className=\"form-group\" key={el.id}>\n        <label htmlFor={el.id}>{el.label}</label>\n        <input\n          type=\"text\"\n          id={el.id}\n          className=\"form-control\"\n          value={el.konvaProps.text}\n          onChange={props.onTextChange(index)}\n        />\n        <EditableElements index={index} el={el} {...props} />\n      </div>\n    );\n  } else if (el.type === 'textarea') {\n    return (\n      <div className=\"form-group\" key={el.id}>\n        <label htmlFor={el.id}>{el.label}</label>\n        <textarea\n          rows={3}\n          id={el.id}\n          className=\"form-control\"\n          value={el.konvaProps.text}\n          onChange={props.onTextChange(index)}\n        />\n        <EditableElements index={index} el={el} {...props} />\n      </div>\n    );\n  } else if (el.type === 'select') {\n    return (\n      <div className=\"form-group\" key={el.id}>\n        <label htmlFor={el.id}>{el.label}</label>\n        <select\n          id={el.id}\n          className=\"form-control\"\n          value={el.konvaProps.text}\n          onChange={props.onTextChange(index)}\n        >\n          {!el.initialValue && <option value=\"\"></option>}\n          {el.options.map((o) => (\n            <option value={o.value} key={o.label}>\n              {o.label}\n            </option>\n          ))}\n        </select>\n        <EditableElements index={index} el={el} {...props} />\n      </div>\n    );\n  } else if (el.editableProps && el.editableProps.length > 0) {\n    return (\n      <div className=\"form-group\" key={el.id}>\n        <label htmlFor={el.id}>{el.label}</label>\n        <EditableElements index={index} el={el} {...props} />\n      </div>\n    );\n  } else {\n    return null;\n  }\n};\n\nconst App = (props) => {\n  if (!props.cardData) {\n    return null;\n  }\n  return (\n    <div className=\"card-generator\">\n      <div className=\"card-generator__title\">\n        <h1>FRONTLINE - Card Generator</h1>\n        <div className=\"input-group\">\n          <div className=\"input-group-prepend\">\n            <div className=\"input-group-text\">Card Type</div>\n          </div>\n          <select\n            className=\"form-control\"\n            value={props.cardType}\n            onChange={(e) => props.setCardType(e.target.value)}\n          >\n            {CARDS.map((card) => (\n              <option key={card.get('name')} value={card.get('name')}>\n                {card.get('name')}\n              </option>\n            ))}\n          </select>\n          {!inIframe && (\n            <div className=\"input-group-append\">\n              <button className=\"btn btn-dark\" onClick={props.saveImage}>\n                Save Card\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n      {props.fontsLoaded ? (\n        <div className=\"card-generator__wrapper\">\n          <Stage\n            width={825}\n            height={1125}\n            className=\"card-generator__stage\"\n            ref={props.onStageRef}\n          >\n            <Layer>\n              {props.cardData\n                .get('elements')\n                .sortBy((el) => el.drawOrder)\n                .map((el) => (\n                  <DisplayElement\n                    key={el.id}\n                    elements={props.cardData.get('elements')}\n                    el={el}\n                  ></DisplayElement>\n                ))}\n            </Layer>\n          </Stage>\n          <form className=\"card-generator__form\" onSubmit={console.warn}>\n            {inIframe && (\n              <div className=\"mb-2\">\n                <em className=\"text-muted\">\n                  <span className=\"fa fa-info-circle fa-fw mr-1\"></span>\n                  To save the card, right-click on the card image an select the\n                  'Save image as...' option.\n                </em>\n              </div>\n            )}\n            {props.error && (\n              <div className=\"alert alert-danger\">{props.error}</div>\n            )}\n            {props.cardData.get('elements').map((el, index) => (\n              <FormElement\n                key={el.id}\n                index={index}\n                elements={props.cardData.get('elements')}\n                el={el}\n                {...props}\n              ></FormElement>\n            ))}\n          </form>\n        </div>\n      ) : (\n        <div className=\"text-center p-5\">\n          <span className=\"fa fa-2x fa-spinner fa-spin\"></span>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default compose(\n  withState('fontsLoaded', 'setFontsLoaded', false),\n  withState('cardType', 'setCardType', ''),\n  withState('cardData', 'setCardData', null),\n  withState('error', 'setError', null),\n  withHandlers(() => {\n    let stage = null;\n    return {\n      onStageRef: () => (ref) => (stage = ref),\n      saveImage: (props) => () => {\n        const elements = props.cardData.get('elements');\n        const missingValues = elements\n          .map((el) => validateElement(el, elements))\n          .filter(Boolean)\n          .toJS();\n        if (missingValues.length > 0) {\n          props.setError(\n            `All fields must be populated. Data is missing for: ${missingValues.join(\n              ', ',\n            )}`,\n          );\n        } else {\n          props.setError(null);\n          // if (window.location === window.parent.location) {\n          var link = document.createElement('a');\n          link.download = `Frontline - ${props.cardType} Card`;\n          link.href = stage.toDataURL();\n          document.body.appendChild(link);\n          link.click();\n          document.body.removeChild(link);\n          // } else {\n          //   const win = window.open();\n          //   win.onload = () => {\n          //     var image = document.createElement('img');\n          //     image.title = `Frontline - ${props.cardType} Card`;\n          //     image.src = stage.toDataURL();\n          //     win.document.body.appendChild(image);\n          //   };\n          // }\n        }\n      },\n    };\n  }),\n  withHandlers({\n    loadImage: (props) => (index, value) => {\n      let image = new window.Image();\n      image.onload = function () {\n        props.setCardData((cardData) =>\n          cardData.updateIn(['elements', index], (el) =>\n            el.mergeDeep(el.onUpload(this)),\n          ),\n        );\n      };\n      image.src = value;\n    },\n  }),\n  withHandlers({\n    onFileInputChange: (props) => (index) => (e) => {\n      if (e.target.files && e.target.files[0]) {\n        let reader = new FileReader();\n        reader.onload = (ev) => {\n          props.loadImage(index, ev.target.result);\n        };\n        reader.readAsDataURL(e.target.files[0]);\n      }\n    },\n    onImageSelectChange: (props) => (index) => ({ target: { value } }) => {\n      props.loadImage(index, value);\n    },\n    onTextChange: (props) => (index) => ({ target: { value } }) => {\n      props.setCardData((cardData) =>\n        cardData.updateIn(['elements', index], (el) => {\n          if (\n            el.konvaProps.maxLength &&\n            value &&\n            value.length > el.konvaProps.maxLength\n          ) {\n            return el;\n          }\n          let newValue = value;\n          if (el.konvaProps.uppercase && newValue) {\n            newValue = newValue.toUpperCase();\n          }\n          if (el.konvaProps.invalidRegex && newValue) {\n            newValue = newValue.replace(el.konvaProps.invalidRegex, '');\n          }\n          return el.mergeDeep({ konvaProps: { text: newValue } });\n        }),\n      );\n    },\n    onPropChange: (props) => (index, prop) => (value) => {\n      props.setCardData((cardData) =>\n        cardData.updateIn(['elements', index], (el) =>\n          el.mergeDeep({ konvaProps: { [prop]: value } }),\n        ),\n      );\n    },\n    onSizeChange: (props) => (index, prop) => (value) => {\n      props.setCardData((cardData) =>\n        cardData.updateIn(['elements', index], (el) => {\n          const { _initialWidth: w, _initialHeight: h } = el.konvaProps;\n          return prop === 'height'\n            ? el.mergeDeep({\n                konvaProps: { height: value, width: (value * w) / h },\n              })\n            : el.mergeDeep({\n                konvaProps: { width: value, height: (value * h) / w },\n              });\n        }),\n      );\n    },\n    toggleHidden: (props) => (index) => ({ target: { checked } }) => {\n      props.setCardData((cardData) =>\n        cardData.updateIn(['elements', index], (el) =>\n          el.mergeDeep({ hidden: checked }),\n        ),\n      );\n    },\n  }),\n  lifecycle({\n    componentDidMount() {\n      const props = this.props;\n      WebFont.load({\n        custom: {\n          families: [\n            'Anton',\n            'CormorantInfantLightItalic',\n            'CormorantInfantMediumItalic',\n            'Roboto',\n            'ShareBold',\n            'ShareTechMono',\n          ],\n        },\n        active: () => props.setFontsLoaded(true),\n      });\n\n      // Set intial cardType\n      this.props.setCardType(CARDS.getIn([0, 'name']));\n    },\n    componentDidUpdate(prev) {\n      // If cardType changes, reset cardData\n      if (this.props.cardType !== prev.cardType) {\n        this.props.setError(null);\n        this.props.setCardData(\n          CARDS.find((card) => card.get('name') === this.props.cardType),\n        );\n      }\n\n      // If cardData is set for a different cardType, load initial images\n      if (\n        this.props.cardData &&\n        (!prev.cardData ||\n          this.props.cardData.get('name') !== prev.cardData.get('name'))\n      ) {\n        this.props.setCardData(\n          this.props.cardData.update('elements', (elements) =>\n            elements.map((el, index) => {\n              if (el.initialValue) {\n                if (['image', 'imageSelect', 'imageStatic'].includes(el.type)) {\n                  const image = new window.Image();\n                  const appProps = this.props;\n                  image.onload = function () {\n                    appProps.setCardData((cardData) =>\n                      cardData.updateIn(['elements', index], (el) =>\n                        el.mergeDeep(el.onUpload(this)),\n                      ),\n                    );\n                  };\n                  image.src = el.initialValue;\n                  return el;\n                } else {\n                  return el.mergeDeep({\n                    konvaProps: { text: el.initialValue },\n                  });\n                }\n              } else {\n                return el;\n              }\n            }),\n          ),\n        );\n      }\n    },\n  }),\n)(App);\n","export const validateElement = (el, elements) => {\r\n  // If diabled, doesn't need to be valid\r\n  if (\r\n    typeof el.disabled === 'function'\r\n      ? !!el.disabled(el, elements)\r\n      : !!el.disabled\r\n  ) {\r\n    return null;\r\n  } else if (el.type === 'image' || el.type === 'imageSelect') {\r\n    if (!el.konvaProps.image) {\r\n      return el.label;\r\n    } else {\r\n      return null;\r\n    }\r\n  } else if (\r\n    el.type === 'input' ||\r\n    el.type === 'textarea' ||\r\n    el.type === 'select'\r\n  ) {\r\n    if (el.konvaProps.text.length === 0) {\r\n      return el.label;\r\n    } else {\r\n      return null;\r\n    }\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n","import 'bootstrap/scss/bootstrap.scss';\nimport 'font-awesome/css/font-awesome.css';\nimport './styles/master.scss';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('card-generator-root'),\n);\n"],"sourceRoot":""}